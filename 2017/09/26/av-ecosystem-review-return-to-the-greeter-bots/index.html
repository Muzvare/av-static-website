<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>AV EcoSystem Review Return to the Greeter Bots</title>

    <!-- Bootstrap Core CSS -->
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="/stylesheets/site.css" rel="stylesheet" />
    <script src="/javascripts/all.js"></script>
    <link href="/images/favicon.ico" rel="icon" type="image/ico" />
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-91621093-1', 'auto');
      ga('send', 'pageview');

    </script>
</head>
<body class="x2017 x2017_09 x2017_09_26 x2017_09_26_av-ecosystem-review-return-to-the-greeter-bots x2017_09_26_av-ecosystem-review-return-to-the-greeter-bots_index">
    <link href="/stylesheets/highlighting.css" rel="stylesheet" />
<!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="/#page-top"><img width="175" src="/images/av-logo-inverse.png" /></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="/#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#why-us">Why us?</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#case-studies">Case Studies</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#subscribe">Subscribe</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
<section id="blog">
  <div class="container">
    <div class="row">
      <div class="col-lg-2">
      </div>
      <div class="col-lg-8 text-left">
        <h2 class='title'><a href="/2017/09/26/av-ecosystem-review-return-to-the-greeter-bots/">AV EcoSystem Review Return to the Greeter Bots</a></h2>
        <h5 class='date'>26 Sep 2017</h5>
    <p><img alt="bots" src="/images/../images/bots2.jpg" /></p>

<p>I had no comments on the multiple source repository pull request (apart from my own), so I&rsquo;ve merged that to play with on develop.  I want to pop back all the way to up to reviewing the flow of folks through AgileVentures and my experiments with the getting started pages, but there&rsquo;s a couple of stops on the way.   First is to get the new code of conduct more prominent, and sort out the greeter bots; as well as finishing up the changes to the Premium Mob/F2F pages.</p>

<p>So let&rsquo;s start with the greeter bot, which should mention the code of conduct, I think.  First up I&rsquo;ll merge in the simple unit tests I added previously:</p>
<pre class="highlight shell"><code><span class="o">[</span>tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/greeter_bot <span class="o">(</span>master<span class="o">)]</span><span class="nv">$ </span>
→ npm <span class="nb">test</span>

<span class="gp">&gt; </span>greeter_bot@1.0.0 <span class="nb">test</span> /Users/tansaku/Documents/GitHub/AgileVentures/greeter_bot
<span class="gp">&gt; </span>mocha <span class="nb">test</span>/<span class="k">**</span>/<span class="k">*</span>.js

  Bot
    ✓ should include linked techtalk channel <span class="k">in </span>greeting
    ✓ should include linked new_members channel <span class="k">in </span>greeting
    ✓ should include linked random channel <span class="k">in </span>greeting

  3 passing <span class="o">(</span>9ms<span class="o">)</span>
</code></pre>
<p>They&rsquo;re all passing on master, and now I can test drive the addition of the code of conduct link:</p>
<pre class="highlight javascript"><code>  <span class="nx">it</span><span class="p">(</span><span class="s1">'should include link to our code of conduct'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">greeting</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">include</span><span class="p">(</span><span class="s1">'&lt;https://github.com/AgileVentures/AgileVentures/blob/master/CODE_OF_CONDUCT.md|code of conduct&gt;'</span><span class="p">)</span>
  <span class="p">})</span>
</code></pre>
<p>which fails:</p>
<pre class="highlight shell"><code><span class="o">[</span>tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/greeter_bot <span class="o">(</span>6_add_code_of_conduct<span class="o">)]</span><span class="nv">$ </span>
→ npm <span class="nb">test</span>

<span class="gp">&gt; </span>greeter_bot@1.0.0 <span class="nb">test</span> /Users/tansaku/Documents/GitHub/AgileVentures/greeter_bot
<span class="gp">&gt; </span>mocha <span class="nb">test</span>/<span class="k">**</span>/<span class="k">*</span>.js

  Bot
    ✓ should include linked techtalk channel <span class="k">in </span>greeting
    ✓ should include linked new_members channel <span class="k">in </span>greeting
    ✓ should include linked random channel <span class="k">in </span>greeting
    1<span class="o">)</span> should include link to our code of conduct


  3 passing <span class="o">(</span>14ms<span class="o">)</span>
  1 failing

  1<span class="o">)</span> Bot should include link to our code of conduct:
     AssertionError: expected <span class="s1">'Welcome and great to have you with us! Please do introduce yourself in &lt;#C02G8J689|new_members&gt; (if you haven\'</span>t already<span class="o">)</span>, and <span class="k">if </span>you have any general technical thoughts/issues/questions please ask <span class="k">in</span> &lt;<span class="c">#C02AA0ARR|techtalk&gt; - &lt;#C0285CSUH|random&gt; is for everything else :slightly_smiling_face:\n\n\nbtw, are you interested in React, Elixir or RSpec?  We\'re offering a &lt;https://www.agileventures.org/premium-mob-offer|free Premium mob programming session&gt; to anyone who likes us on facebook.com/agileventures or follows us on twitter.com/agileventures ...' to include '&lt;https://github.com/AgileVentures/AgileVentures/blob/master/CODE_OF_CONDUCT.md|code of conduct&gt;'</span>
      at Context.&lt;anonymous&gt; <span class="o">(</span><span class="nb">test</span>/greeting_test.js:20:25<span class="o">)</span>

</code></pre>
<p>greeting.js updated:</p>
<pre class="highlight javascript"><code><span class="nx">greeting</span> <span class="o">+=</span> <span class="s2">"\n\n\nPlease help us make AgileVentures a welcoming place by following our &lt;https://github.com/AgileVentures/AgileVentures/blob/master/CODE_OF_CONDUCT.md|code of conduct&gt;"</span>
</code></pre>
<p>and the tests pass:</p>
<pre class="highlight plaintext"><code>[tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/greeter_bot (6_add_code_of_conduct)]$ 
→ npm test

&gt; greeter_bot@1.0.0 test /Users/tansaku/Documents/GitHub/AgileVentures/greeter_bot
&gt; mocha test/**/*.js

  Bot
    ✓ should include linked techtalk channel in greeting
    ✓ should include linked new_members channel in greeting
    ✓ should include linked random channel in greeting
    ✓ should include link to our code of conduct

  4 passing (9ms)
</code></pre>
<p>So now it&rsquo;s a bit of a pain to do a complete manual test of this as it requires creating a new dummy user and signing up to a slack instance where this bot is installed.  So I just push to production from the branch:</p>
<pre class="highlight plaintext"><code>[tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/greeter_bot (6_add_code_of_conduct)]$ 
→ git push -f azure-production 6_add_code_of_conduct:master
</code></pre>
<p>A nice feature would be to be able to chat to the bot and get it to spit out the greeting at will, which would be handy for checking the format, if not the complete cycle of the functionality.  I&rsquo;ll add that to the issues as I&rsquo;ve been doing with every other thought as it comes up:</p>

<ul>
<li><a href="https://github.com/AgileVentures/greeter_bot/issues/17">Support messaging to bot</a></li>
<li><a href="https://github.com/AgileVentures/greeter_bot/issues/16">Improve Templating</a></li>
<li><a href="https://github.com/AgileVentures/greeter_bot/issues/15">Follow Standard JS</a></li>
</ul>

<p>but for now I have to wait for someone to join our slack instance to see the effect of the current change.  In the meantime I should get the link to the code of conduct into our Getting Started &hellip; (also thinking that maybe we should migrate it from GitHub to be on our site), but one thing at a time.</p>

<p><img src="https://dl.dropboxusercontent.com/s/49uuoke3uap9kpp/Screenshot%202017-09-26%2009.59.43.png?dl=1" /></p>

<p>I&rsquo;d also love to update the project greeter bot to work with the new shared #wiki<em>edu</em>dash_collab channel that links our Slack to the WikiEdu folks.  There also I now have tests that are passing:</p>
<pre class="highlight plaintext"><code>[tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/project_greeter_bot (master)]$ 
→ npm test

&gt; project_greeter_bot@0.0.0 test /Users/tansaku/Documents/GitHub/AgileVentures/project_greeter_bot
&gt; mocha test/**/*.js

  Project Greeter bot
    ✓ should have LocalSupport channel greeting
    ✓ should have WebSiteOne channel greeting
    ✓ should have Rundfunk Mitbestimmen channel greeting
    ✓ should have Wiki EDU dashboard channel greeting

  4 passing (12ms)

</code></pre>
<p>A test failed and passed, since I am using the channel ids in tests:</p>
<pre class="highlight plaintext"><code>tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/project_greeter_bot (25_update_wiki_edu_channel)]$ 
→ npm test

&gt; project_greeter_bot@0.0.0 test /Users/tansaku/Documents/GitHub/AgileVentures/project_greeter_bot
&gt; mocha test/**/*.js

  Project Greeter bot
    ✓ should have LocalSupport channel greeting
    ✓ should have WebSiteOne channel greeting
    ✓ should have Rundfunk Mitbestimmen channel greeting
    1) should have Wiki EDU dashboard channel greeting

  3 passing (11ms)
  1 failing

  1) Project Greeter bot should have Wiki EDU dashboard channel greeting:
     AssertionError: expected { Object (C0KK907B5, C029E8G80, ...) } to have own property 'C36MNPWTD'
      at Context.&lt;anonymous&gt; (test/greetings_spec.js:17:35)

npm ERR! Test failed.  See above for more details.

[tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/project_greeter_bot (25_update_wiki_edu_channel)]$ 
→ npm test

&gt; project_greeter_bot@0.0.0 test /Users/tansaku/Documents/GitHub/AgileVentures/project_greeter_bot
&gt; mocha test/**/*.js

  Project Greeter bot
    ✓ should have LocalSupport channel greeting
    ✓ should have WebSiteOne channel greeting
    ✓ should have Rundfunk Mitbestimmen channel greeting
    ✓ should have Wiki EDU dashboard channel greeting


  4 passing (9ms)

</code></pre>
<p>Would be good to be <a href="https://github.com/AgileVentures/project_greeter_bot/issues/27">looking those up off the slack api</a>, maybe?  Anyhow, I deployed that branch to production, since the change in the id will only make sense on production, and we&rsquo;ll have to wait for someone to join the new shared channel and see &hellip;</p>

<p>Phew, so that&rsquo;s all the hanging bot stuff deployed (if not checked), and reminds me of all the little other tasks I&rsquo;d like to do with the bots to make them and their projects friendlier, but I think that&rsquo;s for another week - tomorrow I hope to be on to the Premium pages &hellip;</p>

        <h2 class='author'>by Sam Joseph</h2>
      </div>  
      <div class="col-lg-2">
      </div>
    </div>  
  </div>  
</section>  
<footer>
    <div class="container">
        <section id="contact">
        <div class="row">
            <div class="col-md-4">
                <h3>AgileVentures</h3>
                <p class="blurb text-muted">Our purpose is to develop better more affordable software solutions to enable non-profits to be more effective and more efficient. We also host a <a href="http://www.agileventures.org">learning community</a> around <a href="https://www.edx.org/xseries/agile-development-using-ruby-rails">free online courses</a> that enable developers to improve their team and software skills, and then to apply them on socially useful projects for non-profits. We are a Charitable Incorporated Organisation (CIO) in the UK. Ref #1170963</p>
            </div>
            <div class="col-md-4">
                <h3>What we do</h3>
                <div class="list">
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Websites</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Apps</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Process Automation</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Software Projects</span></i>
                </div>
                <h4>More on our <a href="/blog">Blog</a></h4>
            </div>
            <div class="col-md-4">
                <h3>Contact Us</h3>
                <div class="contact-list">
                  <!-- <i class="fa fa-envelope fa-lg fa-text fa-fw"><span class='font-override'>&nbsp;&nbsp;</i> -->
                  <i class="fa fa-lg fa-text"><a class='mail' href='mailto:nonprofits@agileventures.org'>nonprofits@<wbr>agileventures.org</a></span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>AgileVentures</span></i>
                  <!-- <i class="fa fa-map-marker fa-lg fa-text fa-fw"></i> -->
                  <i class="fa fa-lg fa-text"><span class='font-override'>The Lodge</span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>64 Pinner Road</span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>Harrow, HA1 4HZ</span></i>
                </div>
            </div>
        </div>
        </section>
        <div class="row">
            <div class="col-md-4">
                <ul class="list-inline quicklinks">
                    <li><a href="/privacy">Privacy Policy</a>
                    </li>
                    <li><a href="/terms">Terms of Use</a>
                    </li>
                </ul>
            </div>
            <div class="col-md-4">
                <span class="copyright">Copyright &copy; AgileVentures 2017</span>
            </div>
            <div class="col-md-4">
                <ul class="list-inline social-buttons">
                    <li><a href="https://twitter.com/AgileVentures"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li><a href="https://www.facebook.com/agileventures"><i class="fa fa-facebook"></i></a>
                    </li>
                    <li><a href="https://www.linkedin.com/company/agileventures"><i class="fa fa-linkedin"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    </section>
</footer>


</body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Pull Request Feedback by Blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="/stylesheets/site.css" rel="stylesheet" />
    <script src="/javascripts/all.js"></script>
    <link href="/images/favicon.ico" rel="icon" type="image/ico" />
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-91621093-1', 'auto');
      ga('send', 'pageview');

    </script>
</head>
<body class="x2017 x2017_03 x2017_03_23 x2017_03_23_pullrequest-feedback-by-blog x2017_03_23_pullrequest-feedback-by-blog_index">
    <link href="/stylesheets/highlighting.css" rel="stylesheet" />
<!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="/#page-top"><img width="175" src="/images/av-logo-inverse.png" /></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="/#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#why-us">Why us?</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#case-studies">Case Studies</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#subscribe">Subscribe</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
<section id="blog">
  <div class="container">
    <div class="row">
      <div class="col-lg-2">
      </div>
      <div class="col-lg-8 text-left">
        <h2 class='title'><a href="/2017/03/23/pullrequest-feedback-by-blog/">Pull Request Feedback by Blog</a></h2>
        <h5 class='date'>23 Mar 2017</h5>
    <p><img alt="feedback" src="/images/feedback2.jpg" /></p>

<p>So in the blogs over the last two days I managed to get to the bottom of the problems on one LocalSupport pull request from a Premium member (Zmago).  It&rsquo;s clear from that experience that I&rsquo;ve got to adjust the develop branch so that VCR/PuffingBilly caches are all up to date and correct, or no other developers are going to get a correct read on what&rsquo;s going on with network connections.  I&rsquo;ve also got another pull request on a complex three point feature, that I need to spend some concentrated review time on.</p>

<p>Maybe I should have been opening another PR to fix up precisely that issue but I started by pulling down Marouen&rsquo;s &ldquo;Post Volunteer Opportunities to DoIt&rdquo; branch locally and re-running it with the caches in place - I opened a PR on that basis - but it went to my old tansaku fork. I really need to disconnect that.</p>

<p>Then I got down to reviewing Marouen&rsquo;s PR, file by file, using the &ldquo;compare with develop branch&rdquo; feature in RubyMine, which is maybe a funny way to review, but well - start at the beginning.  I made the following notes as I worked through:</p>

<ul>
<li>doit<em>volunteer</em>ops.js file being loaded on every page</li>
<li>doit<em>volunteer</em>ops.js hits local <code>/doit_organisations</code> end point but does nothing with result?</li>
<li>bootstrap datepicker being incorporated</li>
<li>DoitOrganisationsController providing us local? endpoint to new service <code>Doit::GetManagedOrganisations.call</code></li>
<li>new DoitVolunteerOpsController to handle creation of new op on DoIt</li>
<li>VolunteerOpsController has check for whether to display publish button (could be in helper or separate method)</li>
<li>long running job PostToDoitJob</li>
<li>new model DoitTrace to store DoIt publication status (VolunteerOp has_one) (in db)</li>
<li>new model DoitVolunteerOp to store more data about doit op? (not in db - stored temporarily)</li>
<li>Doit::PostToDoit service to do posting</li>
<li>dropdown_list partial to allow for selection of doit orgs &hellip;</li>
<li>doit_orgs index.js.erb - not sure how this fits in</li>
<li>new form for creating DoitVolunteerOps</li>
<li>volunteer ops show page broken up into more partials</li>
<li>sucker punch async job handling added</li>
<li>doit_volunteer ops nested in volop URL</li>
</ul>

<p>Marouen had a good summary in his PR description:</p>

<ul>
<li>add new model for tracing published vol ops to Doit</li>
<li>add 2 services to interact with Doit API</li>
<li>add form object to manage posting to Doit</li>
<li>implement active<em>job with sucker</em>punch as backend to avoid extra cost from Heroku</li>
</ul>

<p>but it took me going through the code, making my own notes, to really work out what was going on.  Then I ran the system locally to review how the UI looked:</p>

<p><img alt="submitting a DoIt Volop" src="https://www.dropbox.com/s/90viie9yi9r7knu/Screenshot%202017-03-23%2014.20.56.png?dl=1" /></p>

<p>It was great to see a complete solution from Marouen, but we hadn&rsquo;t done a UI mockup of how this should all work in advance.  Marouen was pushing up the code and driving from tests, but I hadn&rsquo;t given him wireframes, which should have been the first step.  I had just assumed that publishing a doit opportunity would be done through the existing volunteer op form with a checkbox.  A checkbox that when checked might reveal the other possible fields. Zmago had done something like that in the past, but of course Marouen hadn&rsquo;t necessarily seen that.</p>

<p>I notice that we&rsquo;ve lost some of the layout on the forms, presumably as a consequence of the bootstrap upgrade.  Gah!  I think the user experience would probably make more sense if we just had a single form.  I&rsquo;m thinking about a user wanting to update the description at the point that they are published to DoIt:</p>

<p><img alt="existing form" src="https://www.dropbox.com/s/g9rj5plfli4zz2o/Screenshot%202017-03-23%2014.28.05.png?dl=1" /></p>

<p>I made this scrappy mockup to show Marouen what I mean:</p>

<p><img alt="mockup for merging two forms" src="https://www.dropbox.com/s/9a02yw28ypm7qte/Screenshot%202017-03-23%2018.24.47.png?dl=1" /></p>

<p>I guess I should get input from the client on this, but my intuition is that this will be simpler in terms of our URLs and the workflow for the end user.  The risk is that I&rsquo;m pushing for changes that will just exhaust Marouen.  The buck stops with me here of course - I should have ensured we provided a mockup earlier, or made sure to check out the PR earlier.  So many PRs, so little time &hellip;</p>

<p>p.s. we won the nhs-wiki contract!</p>

        <h2 class='author'>by Sam Joseph</h2>
      </div>  
      <div class="col-lg-2">
      </div>
    </div>  
  </div>  
</section>  
<footer>
    <div class="container">
        <section id="contact">
        <div class="row">
            <div class="col-md-4">
                <h3>AgileVentures</h3>
                <p class="blurb text-muted">Our purpose is to develop better more affordable software solutions to enable non-profits to be more effective and more efficient. We also host a <a href="http://www.agileventures.org">learning community</a> around <a href="https://www.edx.org/xseries/agile-development-using-ruby-rails">free online courses</a> that enable developers to improve their team and software skills, and then to apply them on socially useful projects for non-profits. We are a Charitable Incorporated Organisation (CIO) in the UK. Ref #1170963</p>
            </div>
            <div class="col-md-4">
                <h3>What we do</h3>
                <div class="list">
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Websites</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Apps</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Process Automation</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Software Projects</span></i>
                </div>
                <h4>More on our <a href="/blog">Blog</a></h4>
            </div>
            <div class="col-md-4">
                <h3>Contact Us</h3>
                <div class="contact-list">
                  <!-- <i class="fa fa-envelope fa-lg fa-text fa-fw"><span class='font-override'>&nbsp;&nbsp;</i> -->
                  <i class="fa fa-lg fa-text"><a class='mail' href='mailto:nonprofits@agileventures.org'>nonprofits@<wbr>agileventures.org</a></span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>AgileVentures</span></i>
                  <!-- <i class="fa fa-map-marker fa-lg fa-text fa-fw"></i> -->
                  <i class="fa fa-lg fa-text"><span class='font-override'>The Lodge</span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>64 Pinner Road</span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>Harrow, HA1 4HZ</span></i>
                </div>
            </div>
        </div>
        </section>
        <div class="row">
            <div class="col-md-4">
                <ul class="list-inline quicklinks">
                    <li><a href="/privacy">Privacy Policy</a>
                    </li>
                    <li><a href="/terms">Terms of Use</a>
                    </li>
                </ul>
            </div>
            <div class="col-md-4">
                <span class="copyright">Copyright &copy; AgileVentures 2017</span>
            </div>
            <div class="col-md-4">
                <ul class="list-inline social-buttons">
                    <li><a href="https://twitter.com/AgileVentures"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li><a href="https://www.facebook.com/agileventures"><i class="fa fa-facebook"></i></a>
                    </li>
                    <li><a href="https://www.linkedin.com/company/agileventures"><i class="fa fa-linkedin"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    </section>
</footer>


</body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>AV EcoSystem Review Nicely Formatted Slack Updates</title>

    <!-- Bootstrap Core CSS -->
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="/stylesheets/site.css" rel="stylesheet" />
    <script src="/javascripts/all.js"></script>
    <link href="/images/favicon.ico" rel="icon" type="image/ico" />
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-91621093-1', 'auto');
      ga('send', 'pageview');

    </script>
</head>
<body class="x2017 x2017_11 x2017_11_06 x2017_11_06_av-ecosystem-review-nicely-formatted-slack-updates x2017_11_06_av-ecosystem-review-nicely-formatted-slack-updates_index">
    <link href="/stylesheets/highlighting.css" rel="stylesheet" />
<!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="/#page-top"><img width="175" src="/images/av-logo-inverse.png" /></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="/#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#why-us">Why us?</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#case-studies">Case Studies</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#subscribe">Subscribe</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="/#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
<section id="blog">
  <div class="container">
    <div class="row">
      <div class="col-lg-2">
      </div>
      <div class="col-lg-8 text-left">
        <h2 class='title'><a href="/2017/11/06/av-ecosystem-review-nicely-formatted-slack-updates/">AV EcoSystem Review Nicely Formatted Slack Updates</a></h2>
        <h5 class='date'> 6 Nov 2017</h5>
    <p><img alt="tying up" src="/images/nicely_formatted_slack_messages.png" /></p>

<p>Urgh, stomach bug yesterday so I had to cancel Sunday free trial Premium F2F pairing.  Still weak today, but at least it seems we finally fixed the youtube link extra posting issue once I rolled out the <code>updated_at</code> &ndash;&gt; <code>created_at</code> switch for the <code>recent_hangouts</code> method on events.  I think this week might need to focus on performance or maybe on our jitsi server.  Oh yes, and I&rsquo;d started on trying to fix up our broken &ldquo;start hangout&rdquo; button &hellip; I&rsquo;d left the tests running over the weekend.  The event show view spec is failing.  I decide to delete that - our acceptance tests should check the user interface and we should force logic out of the views to have them tested in unit tests.  With that the specs are passing, and we&rsquo;ll see about the cukes.</p>

<p>In the meantime I&rsquo;ll just bash out this change I&rsquo;ve finally settled on for the Slack message updates for hangouts and YouTube updates, or I would if I hadn&rsquo;t just kicked off a cuke test run locally - doh, I&rsquo;ve pushed the deleted view spec to the branch, so CI will build it.  I&rsquo;m weak from not eating yesterday - I can feel today will have lots of similar simple mistakes.  Do I do that performance check on staging to see if removing the information about the next upcoming hangout will make a big impact on our performance?  That&rsquo;d require my local system to not be running all the cukes it is right now, urgh.  So I just kill the local run of the cukes and get the tiny messaging format fix in for the Slack messages.  Oh wow, now that I have it in ruby/rspec the change is so extraordinarily simple (compared to the CoffeeScript Hubot Microservice we had set up) that I can almost forgive myself for not completing the Hangout button fix that I&rsquo;d started on Friday.   </p>

<p>In the meantime the CI gives me the failures for the hangout button removal:</p>
<pre class="highlight plaintext"><code>  @javascript
  Scenario: Display hangout button on a project's page   # features/hangouts/hangout.feature:68
    Given I am a member of project "WebsiteOne"          # features/step_definitions/projects_steps.rb:50
    And I am on the "Show" page for project "WebsiteOne" # features/step_definitions/basic_steps.rb:255
    Then I should see hangout button                     # features/step_definitions/hangout_steps.rb:11
      expected to find css "#liveHOA-placeholder" but there were no matches (RSpec::Expectations::ExpectationNotMetError)
      ./features/step_definitions/hangout_steps.rb:15:in `/^I should (not )?see hangout button$/'
      features/hangouts/hangout.feature:71:in `Then I should see hangout button'

Failing Scenarios:
cucumber -p second_try features/documents.feature:156 # Scenario: Insert media model accepts full url youtube links
cucumber -p second_try features/events/show_event.feature:36 # Scenario Outline: Do not show hangout button until 10 minutes before scheduled start time, and while event is running, Examples (#1)
cucumber -p second_try features/events/show_event.feature:37 # Scenario Outline: Do not show hangout button until 10 minutes before scheduled start time, and while event is running, Examples (#2)
cucumber -p second_try features/events/show_event.feature:40 # Scenario Outline: Do not show hangout button until 10 minutes before scheduled start time, and while event is running, Examples (#5)
cucumber -p second_try features/hangouts/hangout.feature:31 # Scenario: Create a hangout for a scrum event
cucumber -p second_try features/hangouts/hangout.feature:68 # Scenario: Display hangout button on a project's page
</code></pre>
<p>So I adjusted the relevant hangout check step definition to:</p>
<pre class="highlight ruby"><code><span class="no">Then</span> <span class="sr">/^I should (not )?see hangout button$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">absent</span><span class="o">|</span>
  <span class="k">if</span> <span class="n">absent</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">page</span><span class="p">).</span><span class="nf">not_to</span> <span class="n">have_css</span> <span class="s1">'#hoa_instructions'</span>
  <span class="k">else</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">page</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_css</span> <span class="s2">"#hoa_instructions"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<p>which basically fixed everything once I added the relevant id in the places where the hangout button appears.  So I went ahead and merged in the messaging format changes for the Slack notifications.  Reviewed a few dependabot gem upgrade PRs, and I&rsquo;m now waiting for the CI to pass on the Hangout button fix.  I&rsquo;d really like to get that out today.  I&rsquo;d love to have the Slack message changes out before the first scrum, but that&rsquo;s in 20 minutes now, so probably no chance of that.  Maybe by the afternoon one.  Okay, one step at a time, keep plodding on.</p>

        <h2 class='author'>by Sam Joseph</h2>
      </div>  
      <div class="col-lg-2">
      </div>
    </div>  
  </div>  
</section>  
<footer>
    <div class="container">
        <section id="contact">
        <div class="row">
            <div class="col-md-4">
                <h3>AgileVentures</h3>
                <p class="blurb text-muted">Our purpose is to develop better more affordable software solutions to enable non-profits to be more effective and more efficient. We also host a <a href="http://www.agileventures.org">learning community</a> around <a href="https://www.edx.org/xseries/agile-development-using-ruby-rails">free online courses</a> that enable developers to improve their team and software skills, and then to apply them on socially useful projects for non-profits. We are a Charitable Incorporated Organisation (CIO) in the UK. Ref #1170963</p>
            </div>
            <div class="col-md-4">
                <h3>What we do</h3>
                <div class="list">
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Websites</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Apps</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Process Automation</span></i>
                    <i class="fa fa-check fa-lg fa-text"><span class='font-override'>&nbsp;&nbsp;Software Projects</span></i>
                </div>
                <h4>More on our <a href="/blog">Blog</a></h4>
            </div>
            <div class="col-md-4">
                <h3>Contact Us</h3>
                <div class="contact-list">
                  <!-- <i class="fa fa-envelope fa-lg fa-text fa-fw"><span class='font-override'>&nbsp;&nbsp;</i> -->
                  <i class="fa fa-lg fa-text"><a class='mail' href='mailto:nonprofits@agileventures.org'>nonprofits@<wbr>agileventures.org</a></span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>AgileVentures</span></i>
                  <!-- <i class="fa fa-map-marker fa-lg fa-text fa-fw"></i> -->
                  <i class="fa fa-lg fa-text"><span class='font-override'>The Lodge</span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>64 Pinner Road</span></i>
                  <i class="fa fa-lg fa-text"><span class='font-override'>Harrow, HA1 4HZ</span></i>
                </div>
            </div>
        </div>
        </section>
        <div class="row">
            <div class="col-md-4">
                <ul class="list-inline quicklinks">
                    <li><a href="/privacy">Privacy Policy</a>
                    </li>
                    <li><a href="/terms">Terms of Use</a>
                    </li>
                </ul>
            </div>
            <div class="col-md-4">
                <span class="copyright">Copyright &copy; AgileVentures 2017</span>
            </div>
            <div class="col-md-4">
                <ul class="list-inline social-buttons">
                    <li><a href="https://twitter.com/AgileVentures"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li><a href="https://www.facebook.com/agileventures"><i class="fa fa-facebook"></i></a>
                    </li>
                    <li><a href="https://www.linkedin.com/company/agileventures"><i class="fa fa-linkedin"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    </section>
</footer>


</body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog Name</title>
  <subtitle>Blog subtitle</subtitle>
  <id>http://blog.url.com/</id>
  <link href="http://blog.url.com/"/>
  <link href="http://blog.url.com/feed.xml" rel="self"/>
  <updated>2017-01-16T00:00:00+00:00</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>Hosting Costs</title>
    <link rel="alternate" href="http://blog.url.com/2017/01/16/hosting-costs/"/>
    <id>http://blog.url.com/2017/01/16/hosting-costs/</id>
    <published>2017-01-16T00:00:00+00:00</published>
    <updated>2017-01-25T21:34:53+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;There&amp;rsquo;s lots I&amp;rsquo;d like to talk about.  Premium pairing on new non-profit IT support plans, &lt;a href="https://www.youtube.com/watch?v=P66oJafqqng"&gt;helping Kenyan students get started with LocalSupport&lt;/a&gt;, &lt;a href="https://www.youtube.com/watch?v=zrz6ct9wIUs"&gt;meeting with the LocalSupport client&lt;/a&gt;, deploying LocalSupport via the new drie push Github interface, mob programming on the Hash#fetch method, but I&amp;rsquo;m presenting my talk on &amp;ldquo;DevOps on a Budget&amp;rdquo; on Thursday, so things have got to be DevOps pricing focused :-)&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m torn between focusing the presentation on the costings and the actual process of DevOps I&amp;rsquo;m doing on AV projects that I blogged about last week.  The talk summary is as follows:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;This talk will cover how we&amp;rsquo;ve been keeping our hosting costs down at the AgileVentures online IT and Education charity over the last 4 years, touching on how we&amp;rsquo;ve been using Heroku, AWS and other less well known services like NineFold and drie. In particular we&amp;rsquo;ll look at how we manage DevOps in an ever changing team of volunteer participants. We&amp;rsquo;ll also cover our migration from Heroku to Ninefold and back again when Ninefold went bust, and our most recent ongoing migration from Heroku to drie.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I guess the key thing is to get down some of that narrative about how our longest running project has been managed from a DevOps point of view over the years.  A quick trip to to Google Analytics showed me a slightly perplexing view of the traffic to the site over the last 2 years that we&amp;rsquo;ve been tracking:&lt;/p&gt;

&lt;p&gt;&lt;img alt="Harrow Community Network users" src="https://www.dropbox.com/s/zrhi3tit04i44s0/Screenshot%202017-01-16%2009.42.25.png?dl=1" /&gt;&lt;/p&gt;

&lt;p&gt;The site traffic was an order of magnitude heavier in 2015, and I can&amp;rsquo;t really think of an explanation other than some sort of error relating to analytics of some service pinging the site that shut down.  Throughout 2016 we&amp;rsquo;ve had about 300 visitors a month, which seems about right.  I can&amp;rsquo;t imagine why 2015 would have seen such high traffic.  In contrast WebSiteOne has been much more consistent:&lt;/p&gt;

&lt;p&gt;&lt;img alt="AgileVentures site users" src="https://www.dropbox.com/s/p5inkiun3j1993r/Screenshot%202017-01-16%2009.45.43.png?dl=1" /&gt;&lt;/p&gt;

&lt;p&gt;The extra challenge with the Harrow Community Network site has generally stemmed from needing https for logins to ensure they are secure.  Arguably this is an issue for every site, but the AgileVentures site handles login via GitHub and G+ which have their own security.  As a cash strapped NonProfit with clients who also have limited resources we were looking at ways of affording the extra fees for setting up SSL certificates.&lt;/p&gt;

&lt;p&gt;Our Slack archive and meeting notes shows me that we had got prototypes of the main site on Heroku in early February 2014.  It wasn&amp;rsquo;t long before we&amp;rsquo;d realised that Heroku SSL suport would lead to a recurring monthly fee, and so the site was only very briefly on Heroku (3 months) before we&amp;rsquo;d switched to NineFold. &lt;/p&gt;

&lt;p&gt;We started investigating &lt;a href="http://ninefold.com/"&gt;NineFold&lt;/a&gt; as an alternative to Heroku in April 2014, when a member of our community working for NineFold indicated we might be able to get a grant from NineFold to cover the hosting costs.  We went live on NineFold in May 2014, but it was less than a year before we were forced to switch back to Heroku due to NineFold sunsetted their Rails hosting solution in March 2015.  We&amp;rsquo;d gotten almost a years free SSL support from NineFold, although that did inadvertently charge my credit card a couple of times.  Talking it through with them I got a refund.&lt;/p&gt;

&lt;p&gt;I have emails from April 2015 about moving our data back from NineFold to Heroku, and getting SSL certificates set up.  At that point Heroku gave us a $100 grant towards the costs of the SSL certificates.  Importing the data back was problematic, and ultimately fixed by using a binary dump with schema AND data and reseting the db before doing the restore operation.&lt;/p&gt;

&lt;p&gt;NineFold&amp;rsquo;s command line interface had been slightly different to Heroku&amp;rsquo;s and had taken a little getting used to.  The deployment was not too difficult, and we had a NineFold person giving us technical support directly in our Slack instance. There had been a fair amount of fiddling around to create valid SSL certificates through a third party provider. Overall it was an interesting experience to have migrated a site from one provider to another; which mainly involved being familiar with PostGres import and export tools.&lt;/p&gt;

&lt;p&gt;Moving back to Heroku, the free SSL certificate provider I&amp;rsquo;d used for NineFold was no longer operating, and the client was now willing to take on some hosting costs.  At the time I was also just contributing to AgileVentures part time and so the Heroku Expedited SSL solution was very attractive, so we went for that and have been billing the client $35 a month since then.  Ironically SSL is now free on custom domains on Heroku, but to get off the limited hours free tier we need to pay $7 a month, and we need to keep the staging and develop instances running so we could switch over to the new dynos and take the costs down to $21 a month.&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;re also looking seriously at moving to drie, who have a low cost hosting service called &amp;ldquo;drie push&amp;rdquo;.  One of the advantages of drie is automatic availability of hosted versions of all the branches in ones&amp;rsquo; git repo.  Early on we linked things up for HarrowCN like so:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;master branch &amp;ndash;&amp;gt; https://www.harrowcn.org.uk&lt;/li&gt;
&lt;li&gt;staging branch &amp;ndash;&amp;gt; http://staging.harrowcn.org.uk&lt;/li&gt;
&lt;li&gt;develop branch &amp;ndash;&amp;gt; http://develop.harrowcn.org.uk&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Having that kind of mapping automatically available from the start of the project is very appealing, but after the experience with NineFold we are cautious about moving to a new service provider.  However drie also has a tighter GitHub integration than Heroku allowing us to add drie as a GitHub integration and deploy directly by pushing to any repo branch.  Heroku can be set up to do this, but their &amp;ldquo;build on PRs&amp;rdquo; functionality creates more instances that we have to pay for.  drie has a different model that sleeps apps more aggressively and so their free tier goes further than that of Heroku.  We&amp;rsquo;re also excited about being able to use GitHub&amp;rsquo;s team interface system rather than Heroku&amp;rsquo;s; since Heroku is also charging extra for the use of the team interface.&lt;/p&gt;

&lt;h3&gt;Related Videos:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=NiXjhjaTTCk"&gt;&amp;ldquo;Martin Fowler&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=zrz6ct9wIUs"&gt;LocalSupport Client Meeting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=ToV8wt9sr8w"&gt;&amp;ldquo;Kent Beck&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=VOnol6QAaeg"&gt;Saturday &amp;ldquo;Bob Martin&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=P66oJafqqng"&gt;Sunday &amp;ldquo;Bob Martin&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;p.s. Full disclosure, AgileVentures has received financial grants from Heroku and NineFold in the past, and drie is an ongoing sponsor of the AgileVentures charity. &lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Legacy Maintenance Plans</title>
    <link rel="alternate" href="http://blog.url.com/2017/01/13/legacy-maintenance-plans/"/>
    <id>http://blog.url.com/2017/01/13/legacy-maintenance-plans/</id>
    <published>2017-01-13T00:00:00+00:00</published>
    <updated>2017-01-24T21:32:48+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;When does an app become legacy?  I&amp;rsquo;d say pretty much as soon as you have anything deployed that anyone is using.  In my experience development on projects can stall and restart, but as long as people are deriving value from the application it needs to be maintained.  We hear things like 60% of the effort in a project is during the maintenance phase.  We have various projects in AgileVentures that could make the claim to be legacy codebases that need to be maintained.  Let me list them in the order of their creation:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/saasbook/rag"&gt;AutoGraders&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/AgileVentures/LocalSupport"&gt;LocalSupport&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/AgileVentures/WebsiteOne"&gt;WebSiteOne&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/AgileVentures/OSRA"&gt;OSRA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/AgileVentures/MetPlus_PETS"&gt;MetPlus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/AgileVentures/ProjectScope"&gt;ProjectScope&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;AsyncVoter&lt;/li&gt;
&lt;li&gt;SHF&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Apologies for any I&amp;rsquo;m missing here.  There are other projects like VisitMeet and WikiEduDashboard which might also be put in the same set, but let&amp;rsquo;s use the above set to think about the ongoing dance between development and maintanence.  The AutoGraders system was originally developed by Armando Fox and his students at UCBerkeley.  It continues to be used several years after its creation supporting the grading functionality in the &amp;ldquo;Agile Development using Ruby on Rails&amp;rdquo; MOOC.  Over the last five years there&amp;rsquo;ve been some periods of development work interspersed with longer periods of maintenance only:&lt;/p&gt;

&lt;p&gt;&lt;img alt="Graph of AutoGraders GitHub commits" src="https://www.dropbox.com/s/xrvi8kz6fcb22o8/Screenshot%202017-01-13%2010.04.12.png?dl=1" /&gt;&lt;/p&gt;

&lt;p&gt;In contrast, development on (or at least commits to) LocalSupport has been steadier:&lt;/p&gt;

&lt;p&gt;&lt;img alt="Graph of LocalSupport GitHub commits" src="https://www.dropbox.com/s/ro02xadm97z56q1/Screenshot%202017-01-13%2010.05.43.png?dl=1" /&gt;&lt;/p&gt;

&lt;p&gt;WebSiteOne on the other hand started with a very high number of commits and has gone through a couple of periods of development inactivity through its lifetime:&lt;/p&gt;

&lt;p&gt;&lt;img alt="Graph of WebSiteOne GitHub commits" src="https://www.dropbox.com/s/rmk1xa5p17jcjse/Screenshot%202017-01-13%2010.06.44.png?dl=1" /&gt;&lt;/p&gt;

&lt;p&gt;OSRA has seen a recent resurgence:&lt;/p&gt;

&lt;p&gt;&lt;img alt="Graph of OSRA GitHub commits" src="https://www.dropbox.com/s/lzqb77smnux7hc8/Screenshot%202017-01-13%2010.08.13.png?dl=1" /&gt;&lt;/p&gt;

&lt;p&gt;While MetPlus has seen some spikes, but has been pretty consistently active:&lt;/p&gt;

&lt;p&gt;&lt;img alt="Graph of MetPlus GitHub commits" src="https://www.dropbox.com/s/fj2a6hk0a0esliz/Screenshot%202017-01-13%2010.09.39.png?dl=1" /&gt;&lt;/p&gt;

&lt;p&gt;Note that the range of the above graphs is changing as we go through these projects, having started with the oldest.  &lt;/p&gt;

&lt;p&gt;AutoGraders, LocalSupport and WebSiteOne have been in near constant use since they were created.  They all have ongoing maintanence burdens, as well as the need for ongoing development.  They all have lots of room for improvement, but are arguably serving at least some people&amp;rsquo;s needs.  MetPlus is the odd one out in that even after eighteen months of development the proposed end users are not yet using the system.  The client has insisted he wants the MVP ready before he can put users on it.  The client has been giving regular feedback on the developing system, but it&amp;rsquo;s a slightly odd set up from an Agile development point of view.&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;re into interesting territory with all the projects, particularly given the charges they incur in terms of hosting.  AutoGraders is hosted on AWS and UCBerkeley picks up the bills there.  LocalSupport is hosted on Heroku and Voluntary Action Harrow Cooperative pays those bills.  WebSiteOne is also on Heroku and our AgileVentures charity is picking up the increasing bills there.  OSRA and MetPlus are also on Heroku, but the free tier appears to be sufficient for the moment.  Every year, Armando Fox at UCBerkeley has 100&amp;rsquo;s of students generating systems that charities start to use, but the students are usually not available later to maintain the applications.  Armando suggested AgileVentures could charge maintanence plans and so I put together a &lt;a href="http://www.agileventures.org/nonprofit-basic-support"&gt;draft landing page&lt;/a&gt;, which outlines some different levels of support that a non-profit could get for having AgileVentures maintain their application.&lt;/p&gt;

&lt;p&gt;The costs in there are based on time of AgileVentures folks restarting apps, responding to issues and so forth.  The interesting discussion we&amp;rsquo;re now having with the MetPlus project team as they look to take their system live (and potentially incurring costs) is bundling the costs of hosting (on Heroku, drie, AWS etc.) as part of AV maintenance plans.  We&amp;rsquo;re imagining that non-profit administrators would rather pay a single bill to AgileVentures for maintainenance and hosting rather than several separate bills for different hosting charges.  The big unknown is what sort of traffic MetPlus will incur.  Yesterday we agreed to offer the client everything free for the first three months, with all the systems on free infrastructure, with the indication that hosting/maintanence would cost on the order of $200 a month going forward, as an all-in, where we would do our best to use the most affordable hosting packages and provide the best level of maintanence support.&lt;/p&gt;

&lt;p&gt;There are lots of details to work out here; lots of unknowns.  Small non-profits and charities generally don&amp;rsquo;t seem to be in a position to pay for development work, but they seem to have some limited funds for maintenance and hosting.  Being able to pay AgileVentures for maintanence and hosting in a single package sounds appealing in principle, but there&amp;rsquo;s the opportunity for us to lose money if performance spikes and we don&amp;rsquo;t have the right agreements and expectations set up.&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;ll just keep applying the Agile process of pushing out ideas, getting feedback from our clients, modifying our offering slightly, and keep trying to improve.  Keep following that path to sustainability.&lt;/p&gt;

&lt;h3&gt;Related Videos:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=MvMgbBya2Bk"&gt;&amp;ldquo;Martin Fowler&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=Olz0s99GhVQ"&gt;MetPlus Planning meeting &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=dEanyrCUjOQ"&gt;&amp;ldquo;Kent Beck&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;p.s. this blog took 38 minutes to write.&lt;/p&gt;

&lt;p&gt;p.p.s. managed to clear several things off my desk today&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Deployment DevOps</title>
    <link rel="alternate" href="http://blog.url.com/2017/01/12/deployment-devops/"/>
    <id>http://blog.url.com/2017/01/12/deployment-devops/</id>
    <published>2017-01-12T00:00:00+00:00</published>
    <updated>2017-01-18T21:36:23+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;I&amp;rsquo;m thinking alot about DevOps at the moment.  Partly because I&amp;rsquo;m giving a talk titled &amp;ldquo;DevOps on a Budget&amp;rdquo; a week from today at the remote DevOps conference.  I&amp;rsquo;m talking to folks on Slack about it, listening to the Ruby Rogues talk about it, listening to talks by some of the other presenters at the conference as preparation.  I&amp;rsquo;m also doing more DevOps &amp;hellip;, I think.  My sense was that DevOps was all about breaking down the barriers between the sometimes isolated areas of development and operations.  In large organisations developers would &amp;ldquo;hand off&amp;rdquo; their code to operations for deployment.  Naturally these areas are likely to be merged in smaller organisations, but the DevOps movement seems to be about joining things up so that development isn&amp;rsquo;t considered in a vacuum, and developers are involved in the operations processes of deploying and maintaining.&lt;/p&gt;

&lt;p&gt;That said, the term &amp;ldquo;DevOps&amp;rdquo; is perhaps being used casually to apply to operations, so that one starts thinking of developers and devops folks?  We use Continuous Integration (CI) systems (such as Travis and Semaphore) in our AgileVentures projects, so that anyone submitting a pull request kicks off a completely fresh build on a fresh virtual machine which involves installing all the libraries and running all the tests.   This means that every individual developer cannot escape the effects of the code they wrote on the test suites, because a tick or cross is added to their pull request.   Does this make every developer a DevOps person?  Not quite.  Nothing forces the developer to care about those tests, except that we won&amp;rsquo;t merge their PR until they pass.  There&amp;rsquo;s also the point that the code is building on a fresh Linux box, so in order to get their PR merged, the developer has to operate as if their code is being deployed in a another location, because it is.&lt;/p&gt;

&lt;p&gt;It seems to me that running the tests in a virtual machine in the cloud doesn&amp;rsquo;t quite constitute deployment, because there&amp;rsquo;s the additional step of getting the app running in production mode on a machine that&amp;rsquo;s accessible to the stakeholders.  Raoul had been focusing on the deployment and release role in our pairing on the project management of WebSiteOne.  Last year I had been focused more on coding and PR review, and Raoul had been taking the code from the develop server (where features get merged to) on to staging and then into production.  Despite fairly comprehensive acceptance tests there&amp;rsquo;s always still room for something to go wrong on one of the Heroku servers in &amp;ldquo;production&amp;rdquo; mode.  Note the potential linguistic confusion there.  Rails apps can run in &amp;ldquo;production mode&amp;rdquo;, but when we talk about the &amp;ldquo;production server&amp;rdquo;, that&amp;rsquo;s the one the main stakeholders are using.  The &amp;ldquo;staging server&amp;rdquo; will also be running in &amp;ldquo;production mode&amp;rdquo;, but it won&amp;rsquo;t be &amp;ldquo;production&amp;rdquo; if that makes sense? :-)&lt;/p&gt;

&lt;p&gt;We have it set up so that whenever a pull request is merged in, this will kick off a deployment to the relevant servers.  So merging to develop kicks of a run of the tests and if they pass, the code is deployed to the develop server.  Similarly for the staging branch (merge will deploy to staging) and the master branch (merge will deploy to production); in each case the deployment depends on all the tests passing.  As Raoul has got busier with Craft Academy I&amp;rsquo;ve taken the lead on merging PRs to the develop (branch and server) and then doing manual tests on the develop server, followed by pushing the code from develop to staging, and then staging to production, with manual tests on each.&lt;/p&gt;

&lt;p&gt;This process seems to be strongly operations-ish to me.  I&amp;rsquo;m calling it DevOps because it certainly involves some development skills.  For AgileVentures to fully embrace DevOps, we&amp;rsquo;d have more folks involved with this DevOps process, as we do with development, but I think it does take a higher level of committment.  There&amp;rsquo;s also more to go wrong here.  Now that I write out the details in preparation for the presentation I see that each individual AV project does have its own DevOps component, so there are a healthy number of AV members getting a strong taste of DevOps experience.  It might be even stronger if we could afford Heroku&amp;rsquo;s deploy PR feature that has every submitted PR lead to a deploy based on a default set of environment variables. This would potentially connect every dev with a full deploy.  We&amp;rsquo;re working with our sponsor drie on a more affordable version that will deploy every PR.&lt;/p&gt;

&lt;p&gt;Anyhow, after a crazy and distracted start to the week I finally managed to get down to some WebSiteOne DevOps done.  I took the latest code on develop and merged it into staging, after doing some preliminary manual tests on the development server.  The development server has less realistic code and settings on it, so there was only so much I could check there.  Note that while I am doing a sanity check on the site in general there, as well as a more detailed look at the new features, I&amp;rsquo;m still relying on our acceptance test suite to catch more complex issues that might arise from interactions between old and new code.&lt;/p&gt;

&lt;p&gt;On the staging server I was able to see the new sorting of projects by Github update recency feature was working, and also that starting a hangout would still ping Slack for us, despite the changes we&amp;rsquo;d made to the EventInstances Controller.  However the feature I wanted to test was preventing Twitter posts of the YouTube stream link before it had gone live.  That was broken on staging.  I saw this in the log:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;2017-01-11T15:01:10.165957+00:00 app[web.1]: Request waited 5ms, then ran for longer than 20000ms
2017-01-11T15:01:10.166341+00:00 app[web.1]: /app/vendor/bundle/ruby/2.3.0/gems/yt-0.28.1/lib/yt/request.rb:237:in `sleep'
2017-01-11T15:01:10.166385+00:00 app[web.1]: /app/vendor/bundle/ruby/2.3.0/gems/yt-0.28.1/lib/yt/request.rb:237:in `sleep_and_retry?'
2017-01-11T15:01:10.166388+00:00 app[web.1]: /app/vendor/bundle/ruby/2.3.0/gems/yt-0.28.1/lib/yt/request.rb:201:in `run_again?'
2017-01-11T15:01:10.166422+00:00 app[web.1]: /app/vendor/bundle/ruby/2.3.0/gems/yt-0.28.1/lib/yt/request.rb:80:in `run'
2017-01-11T15:01:10.166458+00:00 app[web.1]: /app/vendor/bundle/ruby/2.3.0/gems/yt-0.28.1/lib/yt/request.rb:81:in `run'
2017-01-11T15:01:10.166489+00:00 app[web.1]: /app/vendor/bundle/ruby/2.3.0/gems/yt-0.28.1/lib/yt/request.rb:81:in `run'`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Getting to this point had involved sorting out an enviroment variable for the Yt gem to contact the YouTube servers. On develop I had checked that it worked from the Rails console, but I did have to reload the Yt gem config, which seemed odd.  On staging I dropped into the Rails console and found the same thing; this timeout error occurring if I didn&amp;rsquo;t re-apply the Yt gem config.  I became suspicious that the main Rails app was not loading the config.  I had advised the developer (Matt) to drop the Yt config into the rails &lt;code&gt;config&lt;/code&gt; folder, thinking it would be auto-loaded from there like the &lt;code&gt;puma.rb&lt;/code&gt; file in the same location.  I had mis-remembered and advised poorly.  The file needed to be in the &lt;code&gt;config/intializers&lt;/code&gt; folder.  I made that change on the staging branch and deployed it directly to confirm my suspicion.  I was correct, so I pushed that change back down from staging to develop.&lt;/p&gt;

&lt;p&gt;Clearly my involvement in both the operations and development sides had helped us resolve this issue, but we weren&amp;rsquo;t out of the woods yet.  Next I started the broadcast on the hangout I had started from the staging site.  No twitter posts.  I could now use the Yt gem functionality from the Rails console to check the duration of the livestream associated with the hangout.  It was showing the duration as zero.  It seemed like one of our assumptions was false, i.e. that the livestream starting would lead to an increasing duration reported by the gem.  I&amp;rsquo;d been experimenting with that with another developer (Sasha) several months previously.  Using the interactive console, and with a live streaming hangout in progress I was able to determine that what in order to check whether the livestream had actually started, we in fact needed to be checking was that the &lt;code&gt;live_stream_details.actual_start_time&lt;/code&gt; was not nil,.&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;d missed this in the development phase, where our tests were green because we&amp;rsquo;d stubbed the Yt gem to return a non-zero duration for a live streaming video.  If we&amp;rsquo;d used VCR to capture the full network interaction we might have encountered this problem earlier, but the Twitter tokens being used had expired and testing the full network interaction had been left out.  I could have gone on and deployed to production.  I didn&amp;rsquo;t, but if I had the code in its current state would technically have fixed the underlying problem (tweeting unrecorded videos), but in a rather aggressive fashion by never tweeting any video links, unless a user finished the broadcast and left the hangout running.&lt;/p&gt;

&lt;p&gt;I left the code on staging and opened a &lt;a href="https://github.com/AgileVentures/WebsiteOne/issues/1489"&gt;ticket&lt;/a&gt; for the problem.  I&amp;rsquo;d had the original developer (Matt) in several of the hangouts associated with this DevOps work so I think I have a reasonable claim to the idea that we are doing joined up &amp;ldquo;Development&amp;rdquo; and &amp;ldquo;Operations&amp;rdquo; in this particular project :-)  Following through it occurred to me that we could have a DevOps acceptance test to check for the presence of the YT gem configuration, and we had the alternatives of just updating our mocks or a full VCR test for the tests covering the action of the YT gem.  A DevOps acceptance test might look like this:&lt;/p&gt;
&lt;pre class="highlight gherkin"&gt;&lt;code&gt;&lt;span class="kd"&gt;Feature&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; Able to access YouTube API via Yt gem
  As the admin
  So that we have information about videos generated by our members
  I would like the Yt gem to be configured correctly

  &lt;span class="kn"&gt;Scenario&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; check Yt gem configuration
    &lt;span class="nf"&gt;When&lt;/span&gt; the app is running
    &lt;span class="nf"&gt;Then&lt;/span&gt; I would like the Yt gem to have it's api_key set to the GOOGLE_PROJECT_API_KEY environment variable
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I&amp;rsquo;ve got a few &amp;ldquo;devops&amp;rdquo; cucumber tests in both WebSiteOne and LocalSupport relating to things like rake tasks that might need to be run in production etc.  Perhaps I&amp;rsquo;m completely crazy here.  Total overkill when this bug is very unlikely to recur?  Or is this actually nice executable documentation that wraps a bug we encountered on staging and provides a clear readable representation of our experience here?&lt;/p&gt;

&lt;p&gt;What we&amp;rsquo;ve got here is a configuration bug that wasn&amp;rsquo;t caught by our tests.  Perhaps it should be an integration test at the RSpec level?  As long as I&amp;rsquo;m reviewing future PRs, I should notice if anyone jiggles with the Yt project config, but then again I won&amp;rsquo;t always be around to check things &amp;hellip; or perhaps switching to a VCR acceptance test would cover all this?  It might not check for the presense of the key (which WebMock might), but then again, we may completely lose the ability to get updates from Hangout plugins on April 25th (which this all relies on), so burning time here might be counter-productive compared to spending time on other potentially revenue producing code.&lt;/p&gt;

&lt;p&gt;At least I&amp;rsquo;ve blogged all this and I&amp;rsquo;ll make some tickets.  We want to get these changes deployed.  Adjusting the mock is the quick fix, given that we&amp;rsquo;ve checked the behaviour.  Is all of this DevOps?  Or is it only DevOps if you&amp;rsquo;re using Chef, Docker and Kubernetes?  These are the kinds of questions I&amp;rsquo;ll be pondering in my DevOps conference talk &amp;hellip;&lt;/p&gt;

&lt;h3&gt;Related Videos:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="#"&gt;&amp;ldquo;Martin Fowler&amp;rdquo; scrum&lt;/a&gt;https://youtu.be/_GBJLaKbTxo&lt;/li&gt;
&lt;li&gt;&lt;a href="https://youtu.be/1_Zkh4JsBik"&gt;DevOps on WSO part 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=8q4RBgjzijY"&gt;DevOps on WSO part 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=39I9UXJizCY"&gt;&amp;ldquo;Kent Beck&amp;rdquo; scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=xAPWS7PKprc"&gt;DevOps on LocalSupport&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;p.s. this blog took 51 minutes to write&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Dazed and Confused</title>
    <link rel="alternate" href="http://blog.url.com/2017/01/11/dazed-and-confused/"/>
    <id>http://blog.url.com/2017/01/11/dazed-and-confused/</id>
    <published>2017-01-11T00:00:00+00:00</published>
    <updated>2017-01-17T21:31:21+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;I did not manage to catch up on my sleep yesterday and I was up late fixing some coding mistakes, but somehow I don&amp;rsquo;t feel quite as washed out as yesterday.  I still feel like I&amp;rsquo;m chess boxing.  Which of the many different things on my list should I be trying to knock off next?  I think my body is fighting off assaults from different winter bugs.  There&amp;rsquo;s no way to avoid coming into contact with kids in two different schools.  I am also beginning to feel an elation at having got our main AgileVentures Slack instance upgraded to the standard tier, now that we have been recognized by Slack as a NonProfit organisation.&lt;/p&gt;

&lt;p&gt;This was a plan that I&amp;rsquo;d almost forgotten about making, buried so deep in the layers of yak-shaving needed to achieve the actual goal.  We&amp;rsquo;d been talking about it during Xmas 2015.  In Jan/Feb last year I&amp;rsquo;d started pushing towards making AgileVentures an official charity, because that seemed like the only way we&amp;rsquo;d be able to afford the Slack standard tier.  Slack wouldn&amp;rsquo;t recognise us a charity until the whole process with the UK government had completed.  By April we had a charity constitution, application proposal and a board of trustees set up.  The UK charity commission replied in July with a series of questions requiring clarification.  We responded swiftly, but still hadn&amp;rsquo;t heard anything back in November.  Actually we did get automated emails explaining how terribly busy they were.  At the beginning of December I filed a follow up through their website feedback forms, and just before the Xmas break I got an email apologising that they had accidentally closed our case!&lt;/p&gt;

&lt;p&gt;They re-opened it and said they would expedite things going forward if we could re-submit the constitution with a few minor changes, and have it ratified by the trustees.  I was anticipating another month or two before we would be ratified, but almost as soon as I had emailed an updated version of the constitution (cc&amp;rsquo;d to the trustees) I got a slew of automated emails indicating the charity was created.  Great stuff, but not enough for Slack!  Apparently we also needed to be ratified by a 3rd party called TechSoup.  &lt;/p&gt;

&lt;p&gt;During the course of last year as the Slack instance hotted up we became more and more constrained by the limits on history and app integration in the free tier.  Also I was hearing that the NonProfit version was limited to 250 members and beyond that, we&amp;rsquo;d be paying 85% of the standard Slack fees.  Something we would not be able to afford given over 1500 folks in our Slack instance.  I started the application process with TechSoup without particularly high hopes.  They required a projection of our annual income, which I pieced together, and actually we were approved in short order. So at the beginning of this week Slack approved our NonProfit status and moved our main Slack instance to the standard tier.  &lt;/p&gt;

&lt;p&gt;Now the wrinkle is that the 250 user limit for Slack&amp;rsquo;s free NonProfit access to the standard tier is that it applies to active users, not total users.  According to my Slack contact we are at 130 or so active users, and to my delight I can now see the entire history of all the DM&amp;rsquo;s, private groups, etc.; in fact everything we&amp;rsquo;ve ever typed into our Slack instance.  We might start incurring charges at 250 users, but then again if we can get to 250 active users perhaps we&amp;rsquo;ll be at the stage to be able to afford Slack&amp;rsquo;s rates?  Certainly we&amp;rsquo;ve got some breathing room before then.&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;re in a little of a quandry about what to do with the separate Slack instances we created for Premium members and Mentors.  I created those in the course of last year to provide a place where the history wasn&amp;rsquo;t disappearing so fast.  Slack&amp;rsquo;s upgrade for a NonProfit will only apply to one instance.  Should we move the upgrade to the Premium or Mentor instance? On the other hand having multiple instances has probably been slightly confusing and may actually have been a dissipative force for those groups, even if it has allowed a space where we can create multiple Premium channels for jobs, tech tests and paid projects etc. for Premiums to browse. &lt;/p&gt;

&lt;p&gt;Still, getting Slack NonProfit status is a major step forward.  Whatever happens from hereon in, I think we&amp;rsquo;ve gotten AgileVentures to a major milestone.  I&amp;rsquo;m behind on my station-keeping tasks such as blogging, social media-ing, preparing my DevOps talk, project management on WebSiteOne, LocalSupport and AsyncVoter.  Not to mention trying to write this book on Open Source Agile Project Management &amp;hellip;!  That said I feel like I have renewed vigor to take this fight to the next level!   Just trying to ride that and not feel too dazed and confused by the twists and turns on the journey &amp;hellip;!&lt;/p&gt;

&lt;h3&gt;Related Videos:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=cWhEDaGEW3w"&gt;&amp;ldquo;Martin Fowler&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=RPeYx4_WZ0E"&gt;&amp;ldquo;Kent Beck&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;p.s. this blog took 18 minutes to write&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Tired but Pushing On</title>
    <link rel="alternate" href="http://blog.url.com/2017/01/10/tired-but-pushing-on/"/>
    <id>http://blog.url.com/2017/01/10/tired-but-pushing-on/</id>
    <published>2017-01-10T00:00:00+00:00</published>
    <updated>2017-01-16T21:04:26+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;I&amp;rsquo;m tired today.  Busy weekend.  Back to coaching kids football Saturday morning, &amp;ldquo;Bob Martin&amp;rdquo; scrum, taking eldest to guitar practice and round the supermarket and making supper.  Relatively calm Saturday evening, but then a frantic Sunday, with my youngests&amp;rsquo; first football match in a higher division, and then a dash across London to a relative&amp;rsquo;s house before a surprise holiday treat for the boys; a trip to see a live game.  Back late, and didn&amp;rsquo;t get to sleep till late working through the muddy clearup from the morning&amp;rsquo;s football.&lt;/p&gt;

&lt;p&gt;Monday fairly full on with all the boys back at school, so doing the school run in the morning for the twins, and then a full day.  Some reasonable progress.  New marketing intern welcomed to Slack and introduced to some other team members, new SPOCs made for instructors, performance testing on drie&amp;rsquo;s new EU servers (not as fast as we&amp;rsquo;d like) and drie catchup meeting, now scheduled for every Monday to push things forward.  Managed to watch an episode of &lt;a href="https://scaleyourcode.com/interviews/interview/13"&gt;ScaleYourCode&lt;/a&gt; where Nathan Harvey of Chef showed how to manage deployment to ec2 via the hosted Chef system.  Suddenly I understand what Chef, Puppet, Ansible etc. do and how they&amp;rsquo;re different from Docker and Vagrant.  All great prep for the DevOps conference talk I&amp;rsquo;m giving next week.&lt;/p&gt;

&lt;p&gt;Spent the evening reviewing the videos from the kids football and writing up the match report and all the areas we can improve, and got to bed later than I&amp;rsquo;d hoped.  Last two nights I had to use audio standup comedy on spotify to help me get to sleep because I can&amp;rsquo;t stop thinking and planning for the football or for AgileVentures.  Two cups of real coffee got me through yesterday.  Hoping to drop back to one today.  We&amp;rsquo;ll see.  Part of the problem was checking email just before bed - really must stop doing that.  I used to be better, but since working at home for the last year, there&amp;rsquo;s an extra desire to keep checking.  I really want to get myself into the black financially, i.e. compensating myself for all the hours I&amp;rsquo;m putting into AgileVentures.  I want to be able to keep being able to pay for my kids activities, music, gym, football, karate, and take them on trips.&lt;/p&gt;

&lt;p&gt;Funny thing is that getting stressed about it all really doesn&amp;rsquo;t seem to help.  I definitely suffer from pushing too hard.  I want to squeeze every last second out of the day.  I&amp;rsquo;m writing out Japanese language quizzes for my kids during breakfast, listening to technical podcasts on the walk back from dropping them off at school, fitting in physio on my knee during my breaks from coding, reviewing the new RSpec book during my lunch break, catching up with Slack/Email while waiting for my kids to do their activities in the evenings, and then finally trying to publish blogs from the previous day just before I go to bed.&lt;/p&gt;

&lt;p&gt;If I&amp;rsquo;m on top of my game I can manage it all.  Under the weather or taking on too much at the weekend it becomes a grind; difficult to focus.  It just requires a careful balance.  I&amp;rsquo;ve gotten pretty good at not booking too many things, but sometimes the long range planning will lead to a jam, e.g. the football season starts a week earlier than I anticipated.  The football coaching is a big commitment; logistics during the week, and 30+ Sat/Sun mornings throughout the year, but the boys love it!  And I enjoy having an activity at the weekend that gets me out in the open air communicating with others.  Although it can all get pretty emotional too :-)&lt;/p&gt;

&lt;p&gt;What I&amp;rsquo;d really like is a consistent pattern of hibernation in the UK.  Like the countries closer to the equator to us have a siesta in the heat of midday, I think those closer to the poles should have a hibernation period when the days are shortest.  After Xmas/NewYear, I&amp;rsquo;d like two weeks where I was allowed to just sleep.  Another 10 years.  Get the kids off to university and I might be able to MVP a mid-winter hibernation.  At least the daily blog writing gives me a calm thirty minutes to pull myself together after the school run.  Although I&amp;rsquo;m not sure to what extent publishing these is helping us achieve our AgileVentures goals.  Maybe the focus on marketing with the new intern will help us work out the best process.  The daily blogging is an experiment I intend to see through till June.  I&amp;rsquo;ve just got to make sure that we don&amp;rsquo;t have too many things booked at the weekend and that I find a good way to calm myself before bed so I can get enough sleep!&lt;/p&gt;

&lt;p&gt;The big question on my mind is would I be better off taking a nap in order to catch up on my sleep, as opposed to drinking a coffee and working through my Slacks/Emails? Taking a nap in the day (unless post-lunch) feels like slacking (being lazy or under-committed) if I&amp;rsquo;m not actually ill &amp;hellip; and I&amp;rsquo;ve already made the coffee &amp;hellip;&lt;/p&gt;

&lt;h3&gt;Related Videos:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=YPtN3dQd6Z4"&gt;&amp;ldquo;Bob Martin&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=aywVGFGImEY"&gt;&amp;ldquo;Martin Fowler&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=dyJnqLfP6u0"&gt;&amp;ldquo;Kent Beck&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;p.s. this blog took 26 minutes
p.p.s managed to clear another small set of items off my desk&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>drie GitHub integration</title>
    <link rel="alternate" href="http://blog.url.com/2017/01/09/drie-github/"/>
    <id>http://blog.url.com/2017/01/09/drie-github/</id>
    <published>2017-01-09T00:00:00+00:00</published>
    <updated>2017-01-13T21:03:41+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;Friday I took a trip down to the &lt;a href="https://drie.co/"&gt;drie&lt;/a&gt; offices in Hammersmith.  We&amp;rsquo;d agreed before the break that we needed to coordinate our collaboration for the new year.  We&amp;rsquo;d previously agreed a sliding scale of sponsorship support based on outcomes for drie in terms of the number of users adopting drie.  In preparation for the meeting I prepared the following list:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;What I need

&lt;ul&gt;
&lt;li&gt;ability to track the number of people using drie&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;What I need to do

&lt;ul&gt;
&lt;li&gt;check whether moving drie servers to Ireland is getting the performance increase we hoped for&lt;/li&gt;
&lt;li&gt;migrate more of LocalSupport to drie&lt;/li&gt;
&lt;li&gt;prepare for the devops conference talk&lt;/li&gt;
&lt;li&gt;improve on the document outlining the needs of the different AgileVentures projects&lt;/li&gt;
&lt;li&gt;get budget details for drie hosting MetPlus&lt;/li&gt;
&lt;li&gt;detailed technical plan for the following year&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Talking through the above with Ben and Tom at drie and the things they wanted to get through we came up with the following agenda:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;drie to show new features for drie-push

&lt;ul&gt;
&lt;li&gt;GitHub Integration&lt;/li&gt;
&lt;li&gt;versioned config&lt;/li&gt;
&lt;li&gt;appdirect&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;look at drie pricing models&lt;/li&gt;
&lt;li&gt;look at performance&lt;/li&gt;
&lt;li&gt;conference talk&lt;/li&gt;
&lt;li&gt;generate clear features to de-risk the collaboration going forward

&lt;ul&gt;
&lt;li&gt;acceptance criteria&lt;/li&gt;
&lt;li&gt;roadmap&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;geek out about the new proxy model (to help understand drie push startup times)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Working through the agenda it became clear that at the moment there wasn&amp;rsquo;t an easy way to track which AgileVentures members were using drie, as all that drie records of drie-push users is ssh keys.  However this would change with the introduction of a new GitHub integration which was the first thing Ben and Tom showed me.  Rather than building an entire team&amp;rsquo;s management framework to compete with Heroku and others, Tom came up with the idea of using a &lt;a href="https://github.com/integrations"&gt;GitHub integration&lt;/a&gt; to leverage the existing GitHub teams framework.  &lt;/p&gt;

&lt;p&gt;AgileVentures already uses a lot of Github integrations such as TravisCI, Semaphore and CodeClimate.  GitHub themselves are &lt;a href="https://github.com/blog/2226-build-an-integration-for-github"&gt;encouraging more and more developers to create integrations&lt;/a&gt;, and the drie GitHub integration looks very similar in that it can be configured and installed via a GitHub interface, and little ticks and crosses are added to the GitHub interface when operations succeed and fail.  &lt;a href="https://github.com/integrations/heroku-review-apps"&gt;Heroku Review Apps&lt;/a&gt; are also a GitHub integration and work in a similar fashion, albeit requiring a complete separate Heroku app set up for them to riff off.  However, we&amp;rsquo;ve had to turn off Heroku review apps as being too expensive.&lt;/p&gt;

&lt;p&gt;drie push GitHub integration goes one step beyond Heroku review apps, by making it possible to set up a repository to just deploy on any push to GitHub.  It&amp;rsquo;s like Heroku Review apps without the overhead of having to deal with Heroku or their new pricing model.  Tom was also showing me other tricks on the backend such as versioned config and reverse proxy tricks that will allow their system to scale effectively.&lt;/p&gt;

&lt;p&gt;We went through the new drie pricing models which I need to pass on to the MetPlus project who are talking with their client today, and today I&amp;rsquo;m torn between trying to spend the whole day on pushing the LocalSupport app further onto drie (still haven&amp;rsquo;t checked the new performance data), reviewing material for my upcoming devops conference talk, and generating this new roadmap for our drie collaboration, which we did at least agree should follow this format:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;Dates #free-users #paid-users

include features ...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The danger that Ben kept us focused on was whether developing the drie push GitHub integration would suck up time that could be spent polishing the ssh only access to drie push, and slow down our overall timeframe.  It&amp;rsquo;s almost certain that that will happen to some extent, but the problem with the ssh only approach is that the main differentiation from Heroku is on price which will be difficult to compete on in the long term.  Other drie push features such as deployment per branch won&amp;rsquo;t make much of an impact unless the configuration model is sorted out, and to be honest the big win for AgileVentures members will come from ease of use.  Avoiding the need to go to the command line at all, and just make your app deploy directly from GitHub, will remove a major stumbling block. &lt;/p&gt;

&lt;p&gt;Related Videos:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=MrUF68V4WMw"&gt;&amp;ldquo;Martin Fowler&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=SttRB9A2bQ0"&gt;&amp;ldquo;Kent Beck&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=YPtN3dQd6Z4"&gt;&amp;ldquo;Bob Martin&amp;rdquo; Scrum&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;p.s. this blog took 33 minutes to write&lt;/p&gt;
</content>
  </entry>
</feed>

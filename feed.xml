<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog Name</title>
  <subtitle>Blog subtitle</subtitle>
  <id>http://blog.url.com/</id>
  <link href="http://blog.url.com/"/>
  <link href="http://blog.url.com/feed.xml" rel="self"/>
  <updated>2017-11-22T00:00:00+00:00</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>AV EcoSystem Review What The Hell Was I Doing?</title>
    <link rel="alternate" href="http://blog.url.com/2017/11/22/av-ecosystem-review-what-the-hell-was-I-doing/"/>
    <id>http://blog.url.com/2017/11/22/av-ecosystem-review-what-the-hell-was-I-doing/</id>
    <published>2017-11-22T00:00:00+00:00</published>
    <updated>2018-02-08T21:16:23+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="wfhitbanner" src="/images/wfhitbanner.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;Hmm, my intention had been to work on the Azure Jitsi setup this week, but the last two mornings were taken up with finishing the AgileVentures monthly report for the trustees.  I did another quick bit of work on the main AgileVentures website to swap outgoing and incoming sponsor logos for Federico and deploy the new Premium member API for Michael.  Those are both now live, and I&amp;rsquo;m reflecting on whether to do more things that unblock others.  The first thing that springs to mind is the changes to the home page language that Lara has suggested based on analysis of the Google Adwords data.&lt;/p&gt;

&lt;p&gt;Other things going on include closing out all these dependabot gem upgrades; and whether we need to shut them off so we can see what we are doing.  Other hanging pull requests (oldest first) include:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;upgrading to Rails 5 (blocked by mercury editor) - Matt&lt;/li&gt;
&lt;li&gt;replacing mercury editor with alternate (medium clone) - Matt&lt;/li&gt;
&lt;li&gt;automate streaming youtube from Jitsi - Lokesh&lt;/li&gt;
&lt;li&gt;add text search form to members page - Ghost&lt;/li&gt;
&lt;li&gt;bug fix for empty github repo - Praveen&lt;/li&gt;
&lt;li&gt;refactoring slack service - Me&lt;/li&gt;
&lt;li&gt;add tawkto chat client - Me&lt;/li&gt;
&lt;li&gt;add calendar support - Sigu&lt;/li&gt;
&lt;li&gt;add sponsor relation - Michael/Marian&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I flicked my eyes over other older and unvoted tickets in the waffle board.  So much stuff that could be worked on.  Who knows which are the key set that take us where we want to be, i.e. a clear comprehensible site that allows people to onboard and work productively together on open source charity projects.  Part of me wants to knock off the oldest hanging pull requests by taking over the work of those who&amp;rsquo;ve just dropped away.&lt;/p&gt;

&lt;p&gt;However I did also start looking at alternate home page designs as part of thinking about how we can improve performance and do A/B testing on different landing pages in terms of how they bring folks on board.  And maybe that&amp;rsquo;s the most important part of our funnel?  Anyway, here&amp;rsquo;s some of the keyword searches that have had our Google ad served, and the number of click throughs they&amp;rsquo;ve received:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;| Keyword                    | Quality Score | Clicks | Impr.  |
|----------------------------|---------------|--------|--------|
| code                       | 3             | 8897   | 137126 |
| github                     | 3             | 2588   | 39468  |
| open source                | 3             | 810    | 20893  |
| agile methodology          | 4             | 340    | 7837   |
| [coding]                   | 5             | 236    | 7865   |
| agile method               | 2             | 125    | 2167   |
| agile model                | 3             | 105    | 1279   |
| agile development          | 4             | 73     | 1363   |
| scrum                      | 3             | 58     | 1970   |
| website coding             | 1             | 49     | 787    |
| agile process              | 3             | 44     | 543    |
| Ruby on Rails              | 1             | 33     | 523    |
| applications development   | 1             | 25     | 827    |
| improve programming skills | 2             | 20     | 200    |
| agile project              | 2             | 17     | 379    |
| agile testing              | 1             | 17     | 407    |
| agile process models       | 3             | 14     | 167    |
| app developer              | 3             | 13     | 442    |
| what is agile development  | 4             | 12     | 136    |
| code programmer            | 3             | 10     | 142    |
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Quality runs from 1 to 10 and our quality scores are low because these keywords are not appearing on our landing pages.  This means that we have to pay Google more of our ad budget for them.  Apparently our Google ad budget will go further if we can increase the instance of these terms on our home page.  In principle, a straightforward fix, and gets me thinking about getting set up for the A/B test of some alternate home pages, based on what we developed for our design sprint back in June.  &lt;/p&gt;

&lt;p&gt;So I go ahead and create a &lt;a href="https://github.com/AgileVentures/WebsiteOne/issues/1982"&gt;ticket&lt;/a&gt;, actually using part of the form template that we have (should I adjust those?), and reflect on how I still don&amp;rsquo;t know if any of our Google AdWords activity has actually led to any revenue.  I know we&amp;rsquo;ve got a couple of thousand additional users, but I don&amp;rsquo;t know if any of them have helped make this whole enterprise more sustainable &amp;hellip;&lt;/p&gt;

&lt;p&gt;Anyway, given I have a ticket, that gives me license to create a branch on which to do the work.  Let&amp;rsquo;s review the chunks of text we have on the home page:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Project Launch Pad&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;AgileVentures is the perfect place to kick-start a project. Our system of openness and lack of hierarchy means anybody can start a project. In fact, many of our current projects were initiated by our own members!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Crowdsourced Learning&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;By crowd-sourcing our projects, we attract developers from diverse backgrounds: students, freelancers, designers, teachers, and many more from all corners of the globe. Our members are driven by their passion to learn code and make a contribution to society.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Social Coding&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We have regular daily meetings (scrums) online where our members get together, discuss projects, share knowledge and plan programming sessions. We love pair programming, nobody works alone in this community!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Open Source&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We love all things Open Source, we are fully transparent in our development process, we record videos of all our meetings through Google+ Hangouts, our code is freely available on the web on GitHub and our project plans are publicly viewable on Pivotal Tracker.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;So there are things I&amp;rsquo;d love to change here, but the funny thing is that we do already mention several of the different keywords I&amp;rsquo;m supposed to be adding:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;code: 2&lt;/li&gt;
&lt;li&gt;github: 2&lt;/li&gt;
&lt;li&gt;open source: 2&lt;/li&gt;
&lt;li&gt;agile methodology: 0&lt;/li&gt;
&lt;li&gt;coding: 1&lt;/li&gt;
&lt;li&gt;scrum: &lt;/li&gt;
&lt;li&gt;website coding: 0&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It makes me wonder if what we need are custom landing pages for our different Google AdWords campaigns, so that folks searching for particular content can land on a page that speaks their language?&lt;/p&gt;

&lt;p&gt;Anyhow, I&amp;rsquo;ve taken a stab at adding more of the keywords into our langauge.  Just tweaks really, but also to mention the focus on charity and non-profit.  Let&amp;rsquo;s get this up and see:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Project Launch Pad&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Want to start a new charity or non-profit coding project? Our community of open source practitioners can help you get started coding and using agile methodology to deliver value quickly to your end users.  &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Crowdsourced Learning&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;By crowd-sourcing our projects, we attract developers from diverse backgrounds: students, freelancers, designers, teachers, and many more from all corners of the globe. Our members are driven by their passion to learn to code and make a contribution to society.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Social Coding&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We have regular daily meetings (scrums) online where our members get together, discuss projects, share knowledge and plan programming sessions. We love pair programming, mob programming and shared code review to help everyone learn and improve.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Open Source&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We love all things Open Source and are fully transparent in our development process. We record videos of all our meetings through Google Hangouts; all our code can be viewed on GitHub and our project plans are publicly viewable on systems like Pivotal Tracker.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;And I get that up in a pull request.  Gosh, so I don&amp;rsquo;t know what&amp;rsquo;s the key place to push on.  Doing things that people ask for is a reasonable first order heuristic, I guess.  Another is clearing up hanging PRs.  The clear pattern that I see is that when I reach out to people individually, that is what seems to have the highest success rate in terms of bringing in new contracts and subscriptions &amp;hellip; hmmm &amp;hellip;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Completing Reports</title>
    <link rel="alternate" href="http://blog.url.com/2017/11/21/av-ecosystem-review-completing-reports/"/>
    <id>http://blog.url.com/2017/11/21/av-ecosystem-review-completing-reports/</id>
    <published>2017-11-21T00:00:00+00:00</published>
    <updated>2018-02-08T21:03:51+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="report" src="/images/report.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;Reports almost completed, just trying to summarise where we are with all the different Premium members.  Trying also to reach out to check in with each of them.  I was doing that weekly but have fallen behind.  I&amp;rsquo;ve configured Stripe to ping a #mentor-notifications channel whenever we get a payment.  I try to thank each member individually.  Paypal sends me an email, and we don&amp;rsquo;t have any reminder system for those who&amp;rsquo;ve been block sponsored by bootcamps so I particularly fall behind on those checkins :-(&lt;/p&gt;

&lt;p&gt;Working through the Stripe notifications in #mentors-notifications involves me being in Slack and so I get distracted by Slack, although this morning I am getting distracted by answering questions to Premium members, and even looking at requests for upgrades, so that&amp;rsquo;s pretty good.&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s the executive summary of the finally finished report:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Not such a great month, in that we lost our main corporate sponsor.  We did gain a new one, but they are offering services in kind rather than cash.  The couple of Premium member cancellations were balanced by sponsored members taking over payment of their memberships.&lt;/p&gt;

&lt;p&gt;Sam started new mobs and ran many free trial F2F sessions which are looking like they might make for a nice set of upgrades and new members next month.  We shall have to wait and see.&lt;/p&gt;

&lt;p&gt;We rolled out video embeds for the NHS project and are still negotiating with the literary society over their web and database project.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I keep meaning to move all the data on Premiums into some coherent form and also to reach out to members consistenly to let them know about our new offerings.  This month I&amp;rsquo;ve just been in a scramble to make sure I reach out to everyone.  I&amp;rsquo;m going to try and keep the report template for the next month open and make updates to it as they come in.  I&amp;rsquo;m reticent to start recording all our data about Premium members in AgileCRM.  It says we&amp;rsquo;d need to pay for automation.  I&amp;rsquo;m tempted to start putting notes into a spreadsheet - or should all the data be being stored in WebSiteOne?  We&amp;rsquo;re starting to improve the model there, with work from Michael and Marian; and me updating the data itself.  &lt;/p&gt;

&lt;p&gt;I think the key use case for AgileCRM, or any system for showing status on Premiums, is to allow mentors such as Lara and Federico to be able to get a bit more background on the different people they&amp;rsquo;re talking to.  There are privacy concerns with all this personal data.  Maybe we need some Mentors Convenant that would be agreed to before we give new mentors access to all the data on the mentees &amp;hellip;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Behind on Reports</title>
    <link rel="alternate" href="http://blog.url.com/2017/11/20/av-ecosystem-review-behind-on-reports/"/>
    <id>http://blog.url.com/2017/11/20/av-ecosystem-review-behind-on-reports/</id>
    <published>2017-11-20T00:00:00+00:00</published>
    <updated>2018-02-06T20:52:54+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="report" src="/images/report.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;Totally distracted by Slack and Email, but more importantly behind on reports.  I was just a couple of days late on the NHS HLP monthly report, but I&amp;rsquo;m now a good weekend behind on the AgileVentures monthly report.  These monthly reports are part of the deal with the AgileVentures trustees for my consulting company providing the core AgileVentures support contract.   I have been working through creating the latest one, but the explosion of new mobs and pairing sessions, and procrastination on my part means there&amp;rsquo;s still a chunk to do.  &lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m also massively behind on my usual checkins with Premium members.  We&amp;rsquo;re trying to move the report around so that it&amp;rsquo;s less detailed stats that take me too long to put together and focuses on the progress of the individual premium members.  I&amp;rsquo;d really like a clear day to review where we are with each individual Premium member.  Having created the initial report structure with lots of details, I&amp;rsquo;ve kind of fallen into a trap of trying to replicate those details every month.  Should I then burn time trying to automate parts of the report?   Drop some of those stats?&lt;/p&gt;

&lt;p&gt;I just spent ten minutes getting the stats together for the last month of mobs:&lt;/p&gt;

&lt;p&gt;| Date      | Mob Topic | #Attendees | Names                                                 |
|&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;|&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;|&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;|&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-|
| 10/13 Fri | React     | 5          | Sam, Fred, Michael and Ose (trial)                    |
| 10/17 Tue | Rspec     | 5          | Federico, Michael, Siba (trial), Brent and Sigu       |
| 10/18 Wed | Elixir    | 6          | Sam, Federico, Ryder, Michael, Sigu and Zmago         |
| 10/20 Fri | React     | 7          | Sam, Federico, Michael, Mikael, Ryder, Zmago and Fred |
| 10/24 Tue | Rspec     | 3          | Federico, Brent, Dennis (trial) and Michael           |
| 10/25 Wed | Elixir    | 6          | Federico, Lara, Ryder, Sigu and Fred                  |
| 10/27 Fri | React     | 4          | Federico, Michael, Mikael and Fred                    |
| 10/31 Tue | Rspec     | 3          | Federico, Brent and Michael                           |
| 11/1  Wed | Elixir    | 3          | Sam, Federico, and Ryder                              |
| 11/3  Fri | React     | 4          | Sam, Federico, Ryder and Fred                         |
| 11/7 Tue  | Rspec     | 4          | Federico, Sigu, Stella and Brent                      |
| 11/8 Wed  | Elixir    | 3          | Sam, Federico and Zmago                               |
| 11/10 Fri | React     | 7          | Sam, Stella, Federico, Mikael, Michael and Fred       |
| 11/13 Mon | WebDev    | 6          | Sam, Michael, Lara, Fiona, Linda, Kiran               |
| 11/14 Tue | RSpec     | 3          | Federico, Stella and Brent                            |
| 11/15 Wed | Elixir    | 3          | Sam, Federico and Zmago                               |
| 11/17 Fri | React     | 4          | Sam, Fred, Michael and Federico                       |
| 11/17 Fri | AduRoR    | 3          | Sam, Brent and Bill                                   |&lt;/p&gt;

&lt;p&gt;Do I need to check with everyone before sharing their first names above? I guess I can run it through an anonymizer if anyone is bothered.  I&amp;rsquo;m keen to share these stats, and I&amp;rsquo;m really keen on transparency, but not everyone wants every part of what they do transparent.  &lt;/p&gt;

&lt;p&gt;Now I&amp;rsquo;ve spent another 10 minutes getting all the data on F2F pairing sessions:&lt;/p&gt;

&lt;p&gt;| Date      | F2F Topic     | Who            |
|&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;|&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;|&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-|
| 9/14 Thu  | R/Data Mining | Michael        |
| 9/18 Mon  | Phoenix       | Federico       |
| 10/16 Mon | Phoenix       | Federico       |
| 10/17 Tue | Rails/Jitsi   | Sigu (trial)   |
| 10/17 Tue | Rails         | Will (trial)   |
| 10/31 Tue | Rails         | Ryder          |
| 11/6 Mon  | Rails/React   | Sage (trial)   |
| 11/9 Thu  | R/Data Mining | Michael        |
| 11/10 Fri | Rails         | Brent          |
| 11/12 Sun | Rails         | Piotr (trial)  |
| 11/12 Sun | Rails         | Marian         |
| 11/14 Tue | Rails         | Stella (trial) |
| 11/14 Tue | Rails         | Rose           |
| 11/15 Wed | Rails         | Philip         |
| 11/16 Thu | Phoenix       | Ben (trial)    |
| 11/17 Fri | Phoenix       | Ryder          |&lt;/p&gt;

&lt;p&gt;And so with the work from last week on meetings stats and web stats, I&amp;rsquo;ve finished the main stats part of the report, but not the update of individual Premium members, or reaching out to all the Premiums to check how they are doing.  With my schedule today that&amp;rsquo;ll have to be tomorrow &amp;hellip;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Packing Too Much In</title>
    <link rel="alternate" href="http://blog.url.com/2017/11/17/av-ecosystem-review-packing-too-much-in-blog/"/>
    <id>http://blog.url.com/2017/11/17/av-ecosystem-review-packing-too-much-in-blog/</id>
    <published>2017-11-17T00:00:00+00:00</published>
    <updated>2018-02-06T20:56:32+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="packing too much in " src="/images/packing_too_much_in.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;So I squeezed in a LocalSupport client meeting this morning and I have an F2F pairing session coming up, so there&amp;rsquo;s not much time for review.  I&amp;rsquo;m thinking I should focus next week on Jitsi on Azure, although I&amp;rsquo;d love to revisit our slack bots, pings, and even consider a react-ification of our getting started pages.&lt;/p&gt;

&lt;p&gt;However I think the most important thing for me to do right now is work through the follow up from the LocalSupport client meeting.  LocalSupport is our longest running project and is a key part of the AgileVentures ecosystem.  I had what felt like  a productive meeting, in that I had managed to implement some cost savings for LocalSupport by switching to free https certificates.  I still wonder if I should have been further questioning whether VAHC really wanted to push forward with this project, but hey, who knows?&lt;/p&gt;

&lt;p&gt;The key thing now is that the client asked to have put on a &amp;ldquo;back burner&amp;rdquo; certain tickets that had been started by some developers.  These relate to members of the public being able to submit new events.  We also rejected a ticket on the breadcrumbs functionality in the system.  Now I have the choice to be alerting developers through the Pivotal Tracker system or through Slack.  I&amp;rsquo;ll start with the tracker, and then maybe follow up in Slack.  It&amp;rsquo;s potentially a sensitive thing as it will probably mean shifting people around on what they&amp;rsquo;re working on and some careful explanations of what&amp;rsquo;s going on.&lt;/p&gt;

&lt;p&gt;Just jumping to GitHub to review the pull requests I see GitHub now has new vulnerability checks:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/81z7w7hkh3tacb3/Screenshot%202017-11-17%2010.49.35.png" /&gt;&lt;/p&gt;

&lt;p&gt;This is flagging a low risk vulnerability in RuboCop - we can easily upgrade that, but I don&amp;rsquo;t want to get distracted &amp;hellip; so much to pack in, so little time &amp;hellip;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review One Thing After Another</title>
    <link rel="alternate" href="http://blog.url.com/2017/11/16/av-ecosystem-review-one-thing-after-another/"/>
    <id>http://blog.url.com/2017/11/16/av-ecosystem-review-one-thing-after-another/</id>
    <published>2017-11-16T00:00:00+00:00</published>
    <updated>2018-02-05T22:01:09+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="typewriter" src="/images/typewriter.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;Some days it&amp;rsquo;s just one thing after another.  As Wednesday was drawing to a close I was feeling pretty pleased to have fixes out for our Slack invites (confirmed as all the recent sign ups had already been invited this morning), and for one-off events not showing up.  I knew we also had some kind of javascript error affecting the calendar popups on the create event page, but it turns out that some kind of failure in our Google Analytics code is systematically breaking JavaScript througout the site.  I managed to fix that last night by turning off the analytics, but that&amp;rsquo;s a short term fix as we need that working.&lt;/p&gt;

&lt;p&gt;Am I just fire-fighting crazily here?  I&amp;rsquo;m thinking about the requests that Federico put in for RSVPs, alerts when members join projects, Fred asking for the jitsi server &amp;hellip;  Anyway this is systemic and we need to report analytics to the trustees.  I was able to replicate the failure on staging - perhaps I can replicate it locally.  I can trigger the error locally by running the server like so:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;ENABLE_GOOGLE_ANALYTICS=true be rails s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The Jasmine tests work fine, even with analytics enabled:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;→ ENABLE_GOOGLE_ANALYTICS=true bej
[35019] Puma starting in cluster mode...
[35019] * Version 3.10.0 (ruby 2.3.1-p112), codename: Russell's Teapot
[35019] * Min threads: 1, max threads: 16
[35019] * Environment: development
[35019] * Process workers: 3
[35019] * Preloading application
[35019] * Listening on tcp://0.0.0.0:51775
[35019] Use Ctrl-C to stop
Waiting for jasmine server on 51775...
[35019] - Worker 0 (pid: 35027) booted, phase: 0
[35019] - Worker 1 (pid: 35028) booted, phase: 0
[35019] - Worker 2 (pid: 35029) booted, phase: 0
jasmine server started
.............................................****..........................
Pending:
    eventDatePicker hides event repeat options by default
      awaiting refactor of related form for use in fixture

    eventDatePicker shows event repeat options when event is set to repeat
      awaiting refactor of related form for use in fixture

    eventDatePicker shows event repeat optional ending when event is set to end
      awaiting refactor of related form for use in fixture

    eventDatePicker hides event repeat optional ending when event is set to never end
      awaiting refactor of related form for use in fixture

75 specs, 0 failures, 4 pending specs
Coverage report generated for RSpec to /Users/tansaku/Documents/GitHub/AgileVentures/WebsiteOne/coverage. 122 / 3516 LOC (3.47%) covered.
[35029] ! Detected parent died, dying
[35028] ! Detected parent died, dying
[35027] ! Detected parent died, dying
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The local error is easier to understand:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/xzo0oe3pgnquepo/Screenshot%202017-11-16%2009.52.32.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;and it seems that we can&amp;rsquo;t use the variable &lt;code&gt;ga&lt;/code&gt; in the modified sense in the current google analytics code:&lt;/p&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="nx"&gt;WebsiteOne&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;define&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'GoogleAnalytics'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_gaq&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[];&lt;/span&gt;
  &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_gaq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;push&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'_setAccount'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'UA-47795185-1'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
  &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;ga&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'script'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="nx"&gt;ga&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'text/javascript'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nx"&gt;ga&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;async&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nx"&gt;ga&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;src&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'https:'&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;location&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;protocol&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="s1"&gt;'https://ssl'&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'http://www'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;'.google-analytics.com/ga.js'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getElementsByTagName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'script'&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt; &lt;span class="nx"&gt;s&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;parentNode&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;insertBefore&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;ga&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;s&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;init&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_gaq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;push&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'_trackPageview'&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;GA_LOCAL_STORAGE_KEY&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'ga:clientId'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="c1"&gt;// the code below leads to the following error&lt;/span&gt;
  &lt;span class="c1"&gt;// Uncaught TypeError: ga is not a function&lt;/span&gt;
  &lt;span class="c1"&gt;//&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;localStorage&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;ga&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'create'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'UA-47795185-1'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="s1"&gt;'storage'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'none'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="s1"&gt;'clientId'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;localStorage&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getItem&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;GA_LOCAL_STORAGE_KEY&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;});&lt;/span&gt;
    &lt;span class="nx"&gt;ga&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;tracker&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nx"&gt;localStorage&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setItem&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;GA_LOCAL_STORAGE_KEY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;tracker&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'clientId'&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="p"&gt;});&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;ga&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'create'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'UA-47795185-1'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'auto'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="nx"&gt;ga&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'send'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'pageview'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="na"&gt;init&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;init&lt;/span&gt;
  &lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I think what we have here is a mix of old and new GA tracking code, and the problem that none of it actually gets run until we go into production, where google analytics is switched on.  Looking up both old and new code, I can&amp;rsquo;t immediately see a way to reconcile them, so I&amp;rsquo;ve commented out the offending code, and so will get that up until we can work out an effective combined approach.&lt;/p&gt;

&lt;p&gt;I think rather than switching GA code on and off globally we should have different account ids for different instances, and set that via ENV vars &amp;hellip;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Running Repairs</title>
    <link rel="alternate" href="http://blog.url.com/2017/11/15/av-ecosystem-review-running-repairs/"/>
    <id>http://blog.url.com/2017/11/15/av-ecosystem-review-running-repairs/</id>
    <published>2017-11-15T00:00:00+00:00</published>
    <updated>2018-01-31T20:57:47+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="running repairs" src="/images/running_repairs.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;9:24 am blog face, but no&amp;ndash;9:29 am&amp;ndash;since I got distracted by Slack and email.  Yesterday I rolled out some code to make the automated Slack sign up more robust.  The code is on production now, and so maybe a test from the heroku command line is the way to go &amp;hellip;&lt;/p&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;&lt;span class="gp"&gt;irb(main):003:0&amp;gt; &lt;/span&gt;SlackInviteJob.new.perform&lt;span class="o"&gt;(&lt;/span&gt;User.last.email&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;ActiveJob] &lt;span class="o"&gt;[&lt;/span&gt;ActionMailer::DeliveryJob] &lt;span class="o"&gt;[&lt;/span&gt;ff673d08-8c78-403c-a740-268417c9a4c7] Performing ActionMailer::DeliveryJob from Inline&lt;span class="o"&gt;(&lt;/span&gt;mailers&lt;span class="o"&gt;)&lt;/span&gt; with arguments: &lt;span class="s2"&gt;"AdminMailer"&lt;/span&gt;, &lt;span class="s2"&gt;"failed_to_invite_user_to_slack"&lt;/span&gt;, &lt;span class="s2"&gt;"deliver_now"&lt;/span&gt;, &lt;span class="s2"&gt;"email@email.com"&lt;/span&gt;, nil, &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="se"&gt;\"&lt;/span&gt;&lt;span class="s2"&gt;already_invited&lt;/span&gt;&lt;span class="se"&gt;\"&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;ActiveJob] &lt;span class="o"&gt;[&lt;/span&gt;ActionMailer::DeliveryJob] &lt;span class="o"&gt;[&lt;/span&gt;ff673d08-8c78-403c-a740-268417c9a4c7]   Rendered admin_mailer/failed_to_invite_user_to_slack.html.erb within layouts/mailer &lt;span class="o"&gt;(&lt;/span&gt;0.9ms&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;ActiveJob] &lt;span class="o"&gt;[&lt;/span&gt;ActionMailer::DeliveryJob] &lt;span class="o"&gt;[&lt;/span&gt;ff673d08-8c78-403c-a740-268417c9a4c7] 
Sent mail to support@agileventures.org &lt;span class="o"&gt;(&lt;/span&gt;215.3ms&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;ActiveJob] &lt;span class="o"&gt;[&lt;/span&gt;ActionMailer::DeliveryJob] &lt;span class="o"&gt;[&lt;/span&gt;ff673d08-8c78-403c-a740-268417c9a4c7] Performed ActionMailer::DeliveryJob from Inline&lt;span class="o"&gt;(&lt;/span&gt;mailers&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="k"&gt;in &lt;/span&gt;386.04ms
&lt;span class="o"&gt;[&lt;/span&gt;ActiveJob] Enqueued ActionMailer::DeliveryJob &lt;span class="o"&gt;(&lt;/span&gt;Job ID: ff673d08-8c78-403c-a740-268417c9a4c7&lt;span class="o"&gt;)&lt;/span&gt; to Inline&lt;span class="o"&gt;(&lt;/span&gt;mailers&lt;span class="o"&gt;)&lt;/span&gt; with arguments: &lt;span class="s2"&gt;"AdminMailer"&lt;/span&gt;, &lt;span class="s2"&gt;"failed_to_invite_user_to_slack"&lt;/span&gt;, &lt;span class="s2"&gt;"deliver_now"&lt;/span&gt;, &lt;span class="s2"&gt;"email@email.com"&lt;/span&gt;, nil, &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="se"&gt;\"&lt;/span&gt;&lt;span class="s2"&gt;already_invited&lt;/span&gt;&lt;span class="se"&gt;\"&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="gp"&gt;=&amp;gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"ok"&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&amp;gt;false, &lt;span class="s2"&gt;"error"&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&amp;gt;&lt;span class="s2"&gt;"already_invited"&lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that looks like we might be in business.  The most recently signed up member has already been invited, and I get a sensible error message when running the SlackInviteJob from the command line.  Let&amp;rsquo;s see if the last 50 have all been invited?  Seven haven&amp;rsquo;t.  That&amp;rsquo;s the lowest number over the last ten days that I&amp;rsquo;ve been manually inviting.  Those seven could have signed up before the deploy.  The acid test will be tomorrow when we&amp;rsquo;ll see if it&amp;rsquo;s zero. If it&amp;rsquo;s not, there&amp;rsquo;s still something to fix.&lt;/p&gt;

&lt;p&gt;Robert had been making the point that we needed to make it easier for folks to get into Slack and that the page that was the top hit on Google for &amp;ldquo;Agile Ventures Slack&amp;rdquo; was an &lt;a href="https://www.agileventures.org/projects/agileventures-community/documents/introduction-to-the-agileventures-slack-channel"&gt;old one&lt;/a&gt;, so I quickly updated that to ensure it mentioned the new sign up process.&lt;/p&gt;

&lt;p&gt;The other running repair we need to make is on the events system where non-repeating single events are not showing up in the future event list.  Maybe they never did?  We need an acceptance test to expose this.  Something like this:&lt;/p&gt;
&lt;pre class="highlight gherkin"&gt;&lt;code&gt;&lt;span class="nt"&gt;@vcr&lt;/span&gt;
&lt;span class="kd"&gt;Feature&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; List Single Events
  As a site user
  So I can find events relevant to me that are happening now
  I would like to see one off events

  &lt;span class="kn"&gt;Background&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="err"&gt;Given the following projects exist&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;title&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;description&lt;/span&gt;          &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;pitch&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;status&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
      &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;cs169&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;greetings&lt;/span&gt; &lt;span class="n"&gt;earthlings&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;       &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;active&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
    &lt;span class="err"&gt;Given following events exist&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;name&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;description&lt;/span&gt;      &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;category&lt;/span&gt;         &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;start_datetime&lt;/span&gt;          &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;duration&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;repeats&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;time_zone&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; 
      &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;Once&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;Once&lt;/span&gt; &lt;span class="n"&gt;off&lt;/span&gt; &lt;span class="n"&gt;meeting&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;Pair&lt;/span&gt; &lt;span class="n"&gt;Programming&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;2016/05/02&lt;/span&gt; &lt;span class="n"&gt;07:00:00&lt;/span&gt; &lt;span class="n"&gt;UTC&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;150&lt;/span&gt;      &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;never&lt;/span&gt;   &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="n"&gt;UTC&lt;/span&gt;       &lt;span class="p"&gt;|&lt;/span&gt;  &lt;span class="n"&gt;cs169&lt;/span&gt;  &lt;span class="p"&gt;|&lt;/span&gt;

  &lt;span class="kn"&gt;Scenario&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; Show correct timezone
    &lt;span class="err"&gt;Given the date is "2016/05/01 09&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="err"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="err"&gt;00&lt;/span&gt; &lt;span class="err"&gt;UTC"&lt;/span&gt;
    &lt;span class="nf"&gt;And&lt;/span&gt; I am on events index page
    &lt;span class="nf"&gt;Then&lt;/span&gt; I should see &lt;span class="s"&gt;"Once"&lt;/span&gt;
    &lt;span class="err"&gt;And the local time element should be set to "2016-05-02T07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="err"&gt;00&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="err"&gt;00Z"&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However that passes out of the box, so perhaps there&amp;rsquo;s something about when there are also repeating events in the mix &amp;hellip;?  Maybe I should hook locally on the debugger?  I do that and see that a newly created event is not listed in the upcoming events.  It seems that a newly created single event has it&amp;rsquo;s repeat_ends set to true by default and so it&amp;rsquo;s not captured in the list of future events:&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;code&gt;  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nc"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;base_future_events&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;nil?&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="no"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;future_events&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="no"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;future_events&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;project_id: &lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;

  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nc"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;future_events&lt;/span&gt;
    &lt;span class="no"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'repeat_ends = false OR repeat_ends IS NULL OR repeat_ends_on &amp;gt; ?'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="no"&gt;Time&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;now&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;

  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nc"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;upcoming_events&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kp"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;events&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;base_future_events&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nf"&gt;inject&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;memo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
      &lt;span class="n"&gt;memo&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;next_occurrences&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;flatten&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;sort_by&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="ss"&gt;:time&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="no"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;remove_past_events&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;events&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;My test was passing because it&amp;rsquo;s not creating the event in the same way that the form does, with &lt;code&gt;repeat_ends&lt;/code&gt; set to true. I adjust the test and it fails, and I can get it to pass with the following change:&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;code&gt;  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nc"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;future_events&lt;/span&gt;
    &lt;span class="no"&gt;Event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'repeats = \'never\' OR repeat_ends = false OR repeat_ends IS NULL OR repeat_ends_on &amp;gt; ?'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="no"&gt;Time&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;now&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Is this a new thing?  Maybe this never worked.  A complete overhaul of the events system is certainly in order.  There&amp;rsquo;s so much more clean up here, but let&amp;rsquo;s fix the bleed in production first &amp;hellip;&lt;/p&gt;
</content>
  </entry>
</feed>
